﻿<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>局域网主页面 - MCP Agent Console</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.min.css">
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="container">
        <!-- 侧边导航栏 -->
        <div class="sidebar">
            <h2 style="display: flex; align-items: center; gap: 12px;"><i class="ri-wifi-line"></i> 局域网管理中心</h2>
            <ul class="nav-menu" id="nav-menu"></ul>
        </div>
        
        <!-- 主内容区 -->
        <div class="main-content">
            <div class="header">
                <h1><i class="ri-network-line"></i> 局域网主页面</h1>
                <div class="subtitle">
                    <span class="badge" style="background-color: var(--ooder-primary); color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; margin-right: 16px;">局域网功能</span>
                    <span>Ooder Rad Style</span> | 
                    <span id="timestamp"></span>
                </div>
            </div>
            
            <!-- 仪表盘卡片 -->
            <div class="dashboard">
                <div class="card">
                    <h3>网络设备数</h3>
                    <div class="value" id="lan-device-count">12</div>
                    <div class="label">已连接设备</div>
                </div>
                <div class="card">
                    <h3>网络状态</h3>
                    <div class="value" id="lan-network-status">正常</div>
                    <div class="label">局域网运行状态</div>
                </div>
                <div class="card">
                    <h3>带宽使用率</h3>
                    <div class="value" id="lan-bandwidth-usage">45%</div>
                    <div class="label">当前带宽使用</div>
                </div>
                <div class="card">
                    <h3>IP 分配</h3>
                    <div class="value" id="lan-ip-allocation">24/50</div>
                    <div class="label">已分配/总IP</div>
                </div>
            </div>
            
            <!-- 局域网功能概览 -->
            <div class="section">
                <h2>局域网功能概览</h2>
                <div class="status-grid" id="lan-overview">
                    <div class="status-item ok">
                        <div class="key">局域网仪表盘</div>
                        <div class="value">已启用</div>
                    </div>
                    <div class="status-item ok">
                        <div class="key">网络设备管理</div>
                        <div class="value">已启用</div>
                    </div>
                    <div class="status-item ok">
                        <div class="key">网络设置</div>
                        <div class="value">已启用</div>
                    </div>
                    <div class="status-item ok">
                        <div class="key">网络监控</div>
                        <div class="value">已启用</div>
                    </div>
                </div>
            </div>
            
            <!-- 快速操作 -->
            <div class="section">
                <h2>快速操作</h2>
                <div style="display: flex; gap: 16px;">
                    <button class="btn btn-primary" onclick="navigateTo('pages/lan/lan-dashboard.html')">
                        <i class="ri-network-line"></i>
                        局域网仪表盘
                    </button>
                    <button class="btn btn-primary" onclick="navigateTo('pages/lan/network-devices.html')">
                        <i class="ri-router-wireless-line"></i>
                        网络设备
                    </button>
                    <button class="btn btn-primary" onclick="navigateTo('pages/lan/network-settings.html')">
                        <i class="ri-wifi-settings-line"></i>
                        网络设置
                    </button>
                    <button class="btn btn-primary" onclick="navigateTo('pages/lan/network-status.html')">
                        <i class="ri-signal-line"></i>
                        网络状态
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 公共JS模块 -->
    <script src="../common/api-client.js"></script>
    <script src="../common/list-manager.js"></script>
    <script src="../common/form-manager.js"></script>
    <script src="../common/utils.js"></script>
    
    <script>
        // 当前页面类型
        let pageType = 'lan';
        
        // 初始化页面
        function init() {
            updateTimestamp();
            renderLanMenu();
            loadLanDashboard();
            setInterval(updateTimestamp, 60000); // 每分钟更新时间戳
        }
        
        // 渲染局域网专用菜单
        function renderLanMenu() {
            const navMenu = document.getElementById('nav-menu');
            navMenu.innerHTML = `
                <li><a href="../pages/lan-main.html" class="active"><i class="ri-network-line"></i> 局域网主页面</a></li>
                <div class="menu-divider"></div>
                <li><a href="../pages/lan/lan-dashboard.html"><i class="ri-network-line"></i> 局域网仪表盘</a></li>
                <li><a href="../pages/lan/network-devices.html"><i class="ri-router-wireless-line"></i> 网络设备</a></li>
                <li><a href="../pages/lan/device-details.html"><i class="ri-information-line"></i> 设备详情</a></li>
                <li><a href="../pages/lan/network-settings.html"><i class="ri-wifi-settings-line"></i> 网络设置</a></li>
                <li><a href="../pages/lan/ip-management.html"><i class="ri-ip-line"></i> IP管理</a></li>
                <li><a href="../pages/lan/network-status.html"><i class="ri-signal-line"></i> 网络状态</a></li>
                <li><a href="../pages/lan/bandwidth-monitor.html"><i class="ri-data-line"></i> 带宽监控</a></li>
                <div class="menu-divider"></div>
                <li><a href="../index.html"><i class="ri-home-line"></i> 返回选择</a></li>
            `;
            setupNavigation();
        }
        
        // 设置导航
        function setupNavigation() {
            const navLinks = document.querySelectorAll('.nav-menu a');
            navLinks.forEach(link => {
                if (link.hasAttribute('href') && link.getAttribute('href') !== '#') {
                    link.addEventListener('click', function(e) {
                        // 保存页面类型到本地存储
                        localStorage.setItem('mcp_agent_page_type', 'lan');
                    });
                }
            });
        }
        
        // 导航到指定页面
        function navigateTo(page) {
            localStorage.setItem('mcp_agent_page_type', 'lan');
            window.location.href = page;
        }
        
        // 加载局域网仪表盘数据
        async function loadLanDashboard() {
            try {
                // 模拟加载局域网数据
                setTimeout(() => {
                    document.getElementById('lan-device-count').textContent = '12';
                    document.getElementById('lan-network-status').textContent = '正常';
                    document.getElementById('lan-bandwidth-usage').textContent = '45%';
                    document.getElementById('lan-ip-allocation').textContent = '24/50';
                }, 500);
            } catch (error) {
                console.error('加载局域网数据失败:', error);
            }
        }
        
        // 更新时间戳
        function updateTimestamp() {
            const now = new Date();
            document.getElementById('timestamp').textContent = utils.formatTimestamp(now.getTime());
        }
        
        // 页面加载完成后初始化
        window.onload = init;
    </script>
</body>
</html>