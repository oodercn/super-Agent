﻿<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>企业网主页面 - MCP Agent Console</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.min.css">
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="container">
        <!-- 侧边导航栏 -->
        <div class="sidebar">
            <h2 style="display: flex; align-items: center; gap: 12px;"><i class="ri-building-line"></i> 企业网管理中心</h2>
            <ul class="nav-menu" id="nav-menu"></ul>
        </div>
        
        <!-- 主内容区 -->
        <div class="main-content">
            <div class="header">
                <h1><i class="ri-dashboard-2-line"></i> 企业网主页面</h1>
                <div class="subtitle">
                    <span class="badge" style="background-color: var(--ooder-primary); color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; margin-right: 16px;">企业网功能</span>
                    <span>Ooder Rad Style</span> | 
                    <span id="timestamp"></span>
                </div>
            </div>
            
            <!-- 仪表盘卡片 -->
            <div class="dashboard">
                <div class="card">
                    <h3>企业设备数</h3>
                    <div class="value" id="enterprise-device-count">156</div>
                    <div class="label">已连接设备</div>
                </div>
                <div class="card">
                    <h3>系统状态</h3>
                    <div class="value" id="enterprise-system-status">正常</div>
                    <div class="label">企业系统运行状态</div>
                </div>
                <div class="card">
                    <h3>服务健康度</h3>
                    <div class="value" id="enterprise-service-health">98%</div>
                    <div class="label">服务健康评分</div>
                </div>
                <div class="card">
                    <h3>命令执行率</h3>
                    <div class="value" id="enterprise-command-rate">95%</div>
                    <div class="label">命令成功执行率</div>
                </div>
            </div>
            
            <!-- 企业网功能概览 -->
            <div class="section">
                <h2>企业网功能概览</h2>
                <div class="status-grid" id="enterprise-overview">
                    <div class="status-item ok">
                        <div class="key">企业仪表盘</div>
                        <div class="value">已启用</div>
                    </div>
                    <div class="status-item ok">
                        <div class="key">系统管理</div>
                        <div class="value">已启用</div>
                    </div>
                    <div class="status-item ok">
                        <div class="key">配置中心</div>
                        <div class="value">已启用</div>
                    </div>
                    <div class="status-item ok">
                        <div class="key">监控与分析</div>
                        <div class="value">已启用</div>
                    </div>
                    <div class="status-item ok">
                        <div class="key">命令体系管理</div>
                        <div class="value">已启用</div>
                    </div>
                </div>
            </div>
            
            <!-- 快速操作 -->
            <div class="section">
                <h2>快速操作</h2>
                <div style="display: flex; gap: 16px;">
                    <button class="btn btn-primary" onclick="navigateTo('pages/enterprise/enterprise-dashboard.html')">
                        <i class="ri-dashboard-2-line"></i>
                        企业仪表盘
                    </button>
                    <button class="btn btn-primary" onclick="navigateTo('pages/system/service-management.html')">
                        <i class="ri-server-line"></i>
                        服务管理
                    </button>
                    <button class="btn btn-primary" onclick="navigateTo('pages/config/service-config.html')">
                        <i class="ri-settings-3-line"></i>
                        配置中心
                    </button>
                    <button class="btn btn-primary" onclick="navigateTo('pages/command/command-dashboard.html')">
                        <i class="ri-command-line"></i>
                        命令体系管理
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 公共JS模块 -->
    <script src="../common/api-client.js"></script>
    <script src="../common/list-manager.js"></script>
    <script src="../common/form-manager.js"></script>
    <script src="../common/utils.js"></script>
    
    <script>
        // 当前页面类型
        let pageType = 'enterprise';
        
        // 初始化页面
        function init() {
            updateTimestamp();
            renderEnterpriseMenu();
            loadEnterpriseDashboard();
            setInterval(updateTimestamp, 60000); // 每分钟更新时间戳
        }
        
        // 渲染企业网专用菜单
        function renderEnterpriseMenu() {
            const navMenu = document.getElementById('nav-menu');
            navMenu.innerHTML = `
                <li><a href="../pages/enterprise-main.html" class="active"><i class="ri-dashboard-2-line"></i> 企业网主页面</a></li>
                <div class="menu-divider"></div>
                <li><a href="../pages/enterprise/enterprise-dashboard.html"><i class="ri-dashboard-2-line"></i> 企业仪表盘</a></li>
                <div class="menu-divider"></div>
                <li><a href="../pages/system/service-management.html"><i class="ri-server-line"></i> 服务管理</a></li>
                <li><a href="../pages/system/request-management.html"><i class="ri-computer-line"></i> MCPAgent管理</a></li>
                <li><a href="../pages/system/agent-coordination.html"><i class="ri-settings-3-line"></i> 系统配置</a></li>
                <div class="menu-divider"></div>
                <li><a href="../pages/config/service-config.html"><i class="ri-server-line"></i> MCP配置</a></li>
                <div class="menu-divider"></div>
                <li><a href="../pages/monitoring/health-check.html"><i class="ri-heart-pulse-line"></i> 健康检查</a></li>
                <div class="menu-divider"></div>
                <li><a href="../pages/command/command-dashboard.html"><i class="ri-dashboard-2-line"></i> 命令仪表盘</a></li>
                <li><a href="../pages/command/command-send.html"><i class="ri-send-plane-line"></i> 命令发送</a></li>
                <li><a href="../pages/command/command-queue.html"><i class="ri-list-check"></i> 命令队列管理</a></li>
                <li><a href="../pages/command/network-links.html"><i class="ri-link-line"></i> 网络链接管理</a></li>
                <li><a href="../pages/command/command-stats.html"><i class="ri-bar-chart-3-line"></i> 命令统计分析</a></li>
                <div class="menu-divider"></div>
                <li><a href="../index.html"><i class="ri-home-line"></i> 返回选择</a></li>
            `;
            setupNavigation();
        }
        
        // 设置导航
        function setupNavigation() {
            const navLinks = document.querySelectorAll('.nav-menu a');
            navLinks.forEach(link => {
                if (link.hasAttribute('href') && link.getAttribute('href') !== '#') {
                    link.addEventListener('click', function(e) {
                        // 保存页面类型到本地存储
                        localStorage.setItem('mcp_agent_page_type', 'enterprise');
                    });
                }
            });
        }
        
        // 导航到指定页面
        function navigateTo(page) {
            localStorage.setItem('mcp_agent_page_type', 'enterprise');
            window.location.href = page;
        }
        
        // 加载企业网仪表盘数据
        async function loadEnterpriseDashboard() {
            try {
                // 模拟加载企业网数据
                setTimeout(() => {
                    document.getElementById('enterprise-device-count').textContent = '156';
                    document.getElementById('enterprise-system-status').textContent = '正常';
                    document.getElementById('enterprise-service-health').textContent = '98%';
                    document.getElementById('enterprise-command-rate').textContent = '95%';
                }, 500);
            } catch (error) {
                console.error('加载企业网数据失败:', error);
            }
        }
        
        // 更新时间戳
        function updateTimestamp() {
            const now = new Date();
            document.getElementById('timestamp').textContent = utils.formatTimestamp(now.getTime());
        }
        
        // 页面加载完成后初始化
        window.onload = init;
    </script>
</body>
</html>