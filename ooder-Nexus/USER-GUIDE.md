# 用户指南

## 1. 项目简介

Nexus 是一个基于 ooderAgent 架构的 P2P AI 能力分发枢纽产品，采用 MIT 开源协议。该项目旨在打造一个去中心化的 AI 能力共享和管理平台，支持个人、小微企业及部门内部部署，实现 AI 能力的安全、高效分发。

### SDK 0.6.6 与示例程序说明

SDK 0.6.6 实现了完整的 ooderAgent 协议，为 Nexus 提供了稳定的底层通信能力。Nexus 在 SDK 基础的通讯和能力管理上，针对常见的路由器安装、智能设备安装提供了网络和路由管理示例页面，同时针对家庭网关的特殊设备也提供了相应的开发示例。

开发者可以通过 skillsCenter 下载相应的 skills 插件，安装在自己的路由器或网关上，就可以有针对性地进行开发，使其支持跨生态的 AI 分发服务。

### 核心功能
- **P2P 自组网**：无中心架构，自动发现网络中的其他节点
- **AI 能力分发**：支持技能的发布、分享和执行
- **本地存储管理**：文件管理、版本控制、文件分享
- **系统监控**：健康检查、指标监控、告警管理
- **多平台支持**：PC、NAS、智能设备等

## 2. 安装与部署

### 2.1 环境要求
- **Java**：8 或更高版本
- **内存**：最低 2GB，推荐 4GB+
- **磁盘空间**：最低 500MB，推荐 2GB+
- **网络**：支持 TCP/IP 网络

### 2.2 安装步骤

#### 2.2.1 从源码编译
1. **克隆代码仓库**
   ```bash
   git clone https://gitee.com/ooderCN/ooder-nexus.git
   cd ooder-nexus
   ```

2. **编译打包**
   ```bash
   mvn clean package
   ```

3. **运行服务**
   ```bash
   java -jar target/independent-nexus-0.6.6.jar
   ```

#### 2.2.2 直接运行
1. **下载发布包**
   从项目发布页面下载最新的可执行 JAR 文件。

2. **运行服务**
   ```bash
   java -jar independent-nexus-0.6.6.jar
   ```

### 2.3 访问控制台
打开浏览器，访问以下地址：
```
http://localhost:8091/console/index.html
```

默认端口为 8091，可在 `application.yml` 中修改。

## 3. 快速开始

### 3.1 首次登录
1. 打开控制台页面
2. 系统会自动初始化并创建默认配置
3. 进入仪表盘页面查看系统状态

### 3.2 基本操作流程

#### 3.2.1 发布技能
1. 点击左侧菜单 "个人功能" → "我的技能"
2. 点击 "发布技能" 按钮
3. 填写技能信息（名称、描述、版本等）
4. 点击 "发布" 完成操作

#### 3.2.2 执行技能
1. 在 "我的技能" 页面选择要执行的技能
2. 点击 "执行" 按钮
3. 填写执行参数（如需要）
4. 点击 "确认执行"
5. 在 "执行历史" 页面查看执行结果

#### 3.2.3 分享技能
1. 在 "我的技能" 页面选择要分享的技能
2. 点击 "分享" 按钮
3. 选择分享对象（个人或群组）
4. 点击 "确认分享"

#### 3.2.4 管理文件
1. 点击左侧菜单 "存储管理"
2. 可进行文件上传、下载、删除等操作
3. 支持创建文件夹和管理文件版本

## 4. 功能模块使用指南

### 4.1 个人中心

#### 4.1.1 个人仪表盘
- **功能**：查看个人统计数据、活动记录、执行统计
- **使用方法**：点击左侧菜单 "个人功能" → "个人仪表盘"

#### 4.1.2 我的技能
- **功能**：管理个人技能（发布、编辑、删除）
- **使用方法**：点击左侧菜单 "个人功能" → "我的技能"

#### 4.1.3 执行历史
- **功能**：查看技能执行记录和结果
- **使用方法**：点击左侧菜单 "个人功能" → "执行历史"

#### 4.1.4 分享管理
- **功能**：管理技能分享和接收
- **使用方法**：点击左侧菜单 "个人功能" → "分享管理"

#### 4.1.5 我的群组
- **功能**：管理群组和群组技能
- **使用方法**：点击左侧菜单 "个人功能" → "我的群组"

### 4.2 网络管理

#### 4.2.1 网络拓扑
- **功能**：查看 P2P 网络拓扑结构
- **使用方法**：点击左侧菜单 "网络管理" → "网络拓扑"

#### 4.2.2 节点管理
- **功能**：发现和管理网络节点
- **使用方法**：点击左侧菜单 "网络管理" → "节点管理"

#### 4.2.3 技能市场
- **功能**：发现和安装网络中的技能
- **使用方法**：点击左侧菜单 "网络管理" → "技能市场"

### 4.3 存储管理

#### 4.3.1 文件管理
- **功能**：上传、下载、删除文件
- **使用方法**：点击左侧菜单 "存储管理"

#### 4.3.2 文件夹管理
- **功能**：创建、重命名、删除文件夹
- **使用方法**：在存储管理页面点击 "新建文件夹" 按钮

#### 4.3.3 版本控制
- **功能**：查看和恢复文件版本
- **使用方法**：选择文件，点击 "版本历史"

#### 4.3.4 文件分享
- **功能**：分享文件给其他用户
- **使用方法**：选择文件，点击 "分享" 按钮

### 4.4 系统监控

#### 4.4.1 健康检查
- **功能**：查看系统、网络、服务状态
- **使用方法**：点击左侧菜单 "系统监控" → "健康检查"

#### 4.4.2 系统指标
- **功能**：查看 CPU、内存、磁盘使用情况
- **使用方法**：点击左侧菜单 "系统监控" → "系统指标"

#### 4.4.3 告警管理
- **功能**：查看和处理系统告警
- **使用方法**：点击左侧菜单 "系统监控" → "告警管理"

## 5. 常见问题与解决方案

### 5.1 网络问题

#### 5.1.1 节点无法发现
- **可能原因**：网络隔离、防火墙阻止、端口未开放
- **解决方案**：
  - 确保节点在同一网络
  - 检查防火墙设置，开放 P2P 端口（默认 9876）
  - 检查网络连接

#### 5.1.2 网络连接不稳定
- **可能原因**：网络质量差、节点负载高
- **解决方案**：
  - 确保网络稳定
  - 减少节点数量或增加节点资源
  - 调整 P2P 网络配置参数

### 5.2 技能执行问题

#### 5.2.1 技能执行失败
- **可能原因**：参数错误、依赖缺失、权限不足
- **解决方案**：
  - 检查执行参数是否正确
  - 确保技能依赖已满足
  - 检查执行权限

#### 5.2.2 技能执行缓慢
- **可能原因**：节点资源不足、网络延迟高
- **解决方案**：
  - 增加节点资源
  - 选择网络延迟低的节点执行
  - 优化技能实现

### 5.3 存储问题

#### 5.3.1 存储空间不足
- **可能原因**：磁盘空间已满
- **解决方案**：
  - 清理不必要的文件
  - 扩展存储空间
  - 配置存储清理策略

#### 5.3.2 文件上传失败
- **可能原因**：文件过大、网络中断、权限不足
- **解决方案**：
  - 检查文件大小限制
  - 确保网络稳定
  - 检查上传权限

## 6. 高级功能

### 6.1 P2P 网络配置
- **配置文件**：`application.yml`
- **主要参数**：
  - `ooder.p2p.port`：P2P 通信端口
  - `ooder.p2p.discovery.interval`：发现间隔
  - `ooder.p2p.max-nodes`：最大节点数

### 6.2 存储配置
- **存储类型**：本地存储
- **配置参数**：
  - `ooder.storage.local.root-path`：存储根路径
  - `ooder.storage.version.max-versions`：最大版本数
  - `ooder.storage.cleanup.interval`：清理间隔

### 6.3 安全配置
- **通信加密**：AES-256 加密
- **身份验证**：基于 KEY 的身份验证
- **权限控制**：细粒度权限管理

## 7. 安全最佳实践

### 7.1 网络安全
- 启用网络安全功能
- 使用强密码和加密通信
- 定期更新系统和依赖

### 7.2 数据安全
- 定期备份重要数据
- 合理设置文件权限
- 注意敏感数据的处理

### 7.3 系统安全
- 定期检查系统状态
- 监控异常活动
- 及时处理告警

## 8. 故障排除

### 8.1 日志查看
- **系统日志**：`logs/system.log`
- **错误日志**：`logs/error.log`
- **审计日志**：`logs/audit.log`

### 8.2 常见错误代码
| 错误代码 | 描述 | 解决方案 |
|---------|------|----------|
| 400 | 请求参数错误 | 检查请求参数 |
| 401 | 未授权 | 检查身份验证 |
| 403 | 权限不足 | 检查权限设置 |
| 404 | 资源不存在 | 检查资源路径 |
| 500 | 服务器内部错误 | 查看日志获取详细信息 |
| 503 | 服务不可用 | 检查服务状态 |

### 8.3 服务重启
如果遇到严重问题，可以重启服务：
```bash
# 停止服务
# 找到进程并终止

# 重启服务
java -jar independent-nexus-0.6.6.jar
```

## 9. 帮助与支持

### 9.1 文档资源
- **项目文档**：https://gitee.com/ooderCN/ooderNexus/wiki
- **API 文档**：[API-MANUAL.md](API-MANUAL.md)
- **开发文档**：[DEVELOPMENT.md](DEVELOPMENT.md)

### 9.2 技术支持
- **技术支持邮箱**：ooder-support@example.com
- **项目地址**：https://gitee.com/ooderCN

### 9.3 社区支持
- **GitHub Issues**：报告问题和提出建议
- **讨论组**：参与社区讨论

## 10. 版本兼容性

### 10.1 版本历史
| 版本 | 发布日期 | 主要特性 |
|------|---------|----------|
| v1.0.0 | 2025-11 | 初始版本，基本功能实现 |

### 10.2 升级指南
- **备份数据**：升级前备份重要数据
- **查看发布说明**：了解版本变更
- **执行升级**：替换 JAR 文件并重启服务

## 11. 术语表

| 术语 | 解释 |
|------|------|
| P2P | 点对点网络，无中心服务器的分布式网络架构 |
| Nexus | Nexus 项目，AI 能力分发枢纽 |
| 技能 | AI 能力的封装，可被发布、分享和执行 |
| VFS | 虚拟文件系统，提供统一的文件操作接口 |
| 节点 | P2P 网络中的一个参与者，可以是 PC、NAS 等设备 |
| 技能市场 | 网络中可发现和订阅的技能集合 |

## 12. 免责声明

本项目采用 MIT 许可证开源，使用者需自行承担使用本项目的风险。项目作者不对因使用本项目而导致的任何损失负责。

---

**最后更新时间**：2025-11-04
**版本**：v1.0.0
