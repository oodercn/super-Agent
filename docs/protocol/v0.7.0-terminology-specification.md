# Ooder Agent SDK 0.7.0 术语定义规范

> 本文档定义了Ooder Agent SDK 0.7.0版本的核心术语，确保文档和代码中术语使用的一致性和准确性。

## 文档信息

- 版本：v0.7.0
- 创建日期：2026-02-15
- 状态：定义中

---

## 一、命名规范

### 1.1 通用命名规则

| 规则 | 说明 | 示例 |
|------|------|------|
| 使用英文 | 所有术语以英文为主 | Skill, Scene, Agent |
| 驼峰命名 | 代码中使用驼峰命名法 | skillPackage, sceneGroup |
| 短横线分隔 | 配置文件和URL中使用 | skill-org-feishu, scene-auth |
| 统一大小写 | 专有名词统一首字母大写 | SkillCenter, RouteAgent |

### 1.2 命名前缀规范

| 前缀 | 含义 | 示例 |
|------|------|------|
| skill- | 技能相关 | skill-org-feishu, skill-msg |
| scene- | 场景相关 | scene-auth, scene-messaging |
| agent- | Agent相关 | agent-sdk, agent-mcp |
| route- | 路由相关 | route-agent, route-table |
| end- | 终端相关 | end-agent, end-point |
| vfs- | 虚拟文件系统 | vfs-resource, vfs-path |
| cap- | 能力相关 | cap-send, cap-receive |

---

## 二、核心术语定义

### 2.1 Agent层术语

#### MCP Agent (主控智能体)

| 属性 | 值 |
|------|-----|
| 英文 | MCP Agent / Master Control Program Agent |
| 中文 | 主控智能体 |
| 缩写 | MCP |
| 定义 | Agent层级结构的顶层节点，负责资源管理、任务调度、安全认证和全局协调 |
| 职责 | 资源管理、任务调度、安全认证、Agent注册、全局路由 |
| 上层 | 无 |
| 下层 | Route Agent |

#### Route Agent (路由智能体)

| 属性 | 值 |
|------|-----|
| 英文 | Route Agent |
| 中文 | 路由智能体 |
| 缩写 | RA |
| 定义 | Agent层级结构的中间层节点，负责消息路由、场景组管理、技能协调 |
| 职责 | 消息路由、场景组管理、技能协调、链路维护、故障切换 |
| 上层 | MCP Agent |
| 下层 | End Agent |
| 角色 | PRIMARY（主）/ BACKUP（备） |

#### End Agent (终端智能体)

| 属性 | 值 |
|------|-----|
| 英文 | End Agent |
| 中文 | 终端智能体 |
| 缩写 | EA |
| 定义 | Agent层级结构的终端节点，直接与用户交互，调用技能提供的能力 |
| 职责 | 用户交互、能力调用、结果展示 |
| 上层 | Route Agent |
| 下层 | 无 |

---

### 2.2 技能层术语

#### Skill (技能)

| 属性 | 值 |
|------|-----|
| 英文 | Skill |
| 中文 | 技能 |
| 缩写 | - |
| 定义 | 场景的具体实现，包含程序代码、配置、资源等，是可独立部署和运行的功能单元 |
| 组成 | 程序代码、配置文件、VFS资源、认证信息、身份证明 |
| 类型 | enterprise-skill（企业技能）、tool-skill（工具技能） |
| 标识 | skill-{category}-{name}，如 skill-org-feishu |

#### SkillPackage (技能包)

| 属性 | 值 |
|------|-----|
| 英文 | Skill Package |
| 中文 | 技能包 |
| 缩写 | SP |
| 定义 | 技能的分发单元，包含技能运行所需的所有文件，可打包为ZIP或TAR.GZ格式 |
| 扩展名 | .skill（ZIP）、.skill.tar.gz（TAR.GZ） |
| 命名 | skill-{category}-{name}-{version}.skill |
| 示例 | skill-org-feishu-0.7.0.skill |

#### SkillSource (技能源)

| 属性 | 值 |
|------|-----|
| 英文 | Skill Source |
| 中文 | 技能源 |
| 缩写 | - |
| 定义 | 技能的来源地址，支持多种协议，是技能发现和下载的入口 |
| 格式 | {protocol}://{host}/{path}/skills/ |
| 协议 | file://, http://, https://, github://, udp://, dht:// |
| 示例 | https://skillcenter.ooder.net/skills/ |

#### SkillCenter (技能中心)

| 属性 | 值 |
|------|-----|
| 英文 | Skill Center |
| 中文 | 技能中心 |
| 缩写 | SC |
| 定义 | 中心化的技能管理和分发服务，提供技能注册、发现、版本管理、远程部署等功能 |
| 功能 | 技能注册、技能发现、版本管理、远程部署、资源池化 |
| API | /api/skills, /api/scenes, /api/capabilities |

#### LocalRegistry (本地注册表)

| 属性 | 值 |
|------|-----|
| 英文 | Local Registry |
| 中文 | 本地注册表 |
| 缩写 | LR |
| 定义 | 本地技能管理服务，管理已安装技能的版本、端口、资源等信息 |
| 功能 | 技能索引、端口分配、资源限制、场景映射 |
| 存储 | ~/.ooder/registry/ |

---

### 2.3 场景层术语

#### Scene (场景)

| 属性 | 值 |
|------|-----|
| 英文 | Scene |
| 中文 | 场景 |
| 缩写 | - |
| 定义 | 能力需求的抽象定义，描述"做什么"，是技能的契约和接口 |
| 组成 | 能力需求、角色定义、通信协议、安全策略 |
| 类型 | 主场景（Primary）、协作场景（Collaborative） |
| 标识 | scene-{name}，如 scene-auth |

#### SceneGroup (场景组)

| 属性 | 值 |
|------|-----|
| 英文 | Scene Group |
| 中文 | 场景组 |
| 缩写 | SG |
| 定义 | 共享KEY和VFS资源的Agent集合，实现场景的协作和故障切换 |
| 成员 | PRIMARY RouteAgent + BACKUP RouteAgent(s) |
| 资源 | SceneGroupKey、VFS资源、链路表 |
| 标识 | scene-{name}-{id}，如 scene-auth-001 |

#### SceneGroupKey (场景组密钥)

| 属性 | 值 |
|------|-----|
| 英文 | Scene Group Key |
| 中文 | 场景组密钥 |
| 缩写 | SGK |
| 定义 | 场景组的身份标识和访问凭证，绑定VFS资源访问权限，支持故障切换时的权限继承 |
| 组成 | groupId, masterKey, accessKey, permissions, members |
| 特点 | KEY不变则权限不变，支持密钥分片 |

---

### 2.4 能力层术语

#### Capability (能力)

| 属性 | 值 |
|------|-----|
| 英文 | Capability |
| 中文 | 能力 |
| 缩写 | Cap |
| 定义 | 场景提供的最小功能单元，是原子性的、可组合的、可发现的、可授权的 |
| 特点 | 原子性、可组合、可发现、可授权 |
| 组成 | id, name, description, input, output, permissions |
| 示例 | msg-send, msg-receive, org-data-read |

#### CapabilityProvider (能力提供者)

| 属性 | 值 |
|------|-----|
| 英文 | Capability Provider |
| 中文 | 能力提供者 |
| 缩写 | CP |
| 定义 | 提供特定能力的技能，是场景的主要参与者 |
| 角色 | provider |
| 职责 | 实现能力、响应调用、维护状态 |

#### CapabilityConsumer (能力消费者)

| 属性 | 值 |
|------|-----|
| 英文 | Capability Consumer |
| 中文 | 能力消费者 |
| 缩写 | CC |
| 定义 | 使用特定能力的技能或Agent，是场景的参与者或调用者 |
| 角色 | consumer |
| 类型 | SKILL_CONSUMER, END_AGENT |

---

### 2.5 资源层术语

#### VFS (虚拟文件系统)

| 属性 | 值 |
|------|-----|
| 英文 | Virtual File System |
| 中文 | 虚拟文件系统 |
| 缩写 | VFS |
| 定义 | 技能的数据资源抽象层，提供统一的文件访问接口，支持权限控制和加密 |
| 功能 | 文件读写、目录管理、权限控制、加密存储 |
| 卷类型 | persistent（持久化）、ephemeral（临时）、readonly（只读） |

#### SkillIdentity (技能身份证明)

| 属性 | 值 |
|------|-----|
| 英文 | Skill Identity |
| 中文 | 技能身份证明 |
| 缩写 | SI |
| 定义 | 技能的身份证明文件，包含来源信息、安装信息、数字签名，用于认证和审计 |
| 文件 | identity.yaml |
| 组成 | skillId, version, source, installation, signature |

---

### 2.6 安全层术语

#### SceneCA (场景证书颁发机构)

| 属性 | 值 |
|------|-----|
| 英文 | Scene Certificate Authority |
| 中文 | 场景证书颁发机构 |
| 缩写 | Scene CA |
| 定义 | 场景级别的证书颁发机构，用于签发场景内技能的证书 |
| 层级 | Layer 2（在Root CA之下） |
| 职责 | 签发技能证书、验证技能身份 |

#### KeyShare (密钥分片)

| 属性 | 值 |
|------|-----|
| 英文 | Key Share |
| 中文 | 密钥分片 |
| 缩写 | KS |
| 定义 | 使用Shamir秘密共享算法分割的密钥片段，需要K份才能恢复主密钥 |
| 算法 | Shamir Secret Sharing |
| 参数 | N（总分片数）、K（恢复阈值） |

---

### 2.7 运行模式术语

#### NLP检索模式

| 属性 | 值 |
|------|-----|
| 英文 | NLP Discovery Mode |
| 中文 | NLP检索模式 |
| 缩写 | NLP Mode |
| 定义 | 跨域资源发现模式，支持自然语言查询，用于技能发现阶段 |
| 特点 | 跨域访问、自然语言查询、开放元数据 |
| 阶段 | 发现阶段 |

#### 严格模式

| 属性 | 值 |
|------|-----|
| 英文 | Strict Mode |
| 中文 | 严格模式 |
| 缩写 | - |
| 定义 | 脱机程序自治模式，强制包含配置、VFS、认证、身份证明，用于运行阶段 |
| 特点 | 完全自治、资源隔离、安全可审计 |
| 阶段 | 运行阶段 |

---

### 2.8 故障切换术语

#### PRIMARY (主角色)

| 属性 | 值 |
|------|-----|
| 英文 | PRIMARY |
| 中文 | 主角色 |
| 缩写 | - |
| 定义 | RouteAgent在场景组中的主要角色，负责处理消息路由和管理场景组 |
| 职责 | 消息路由、KEY管理、链路维护、资源协调 |
| 状态 | ACTIVE |

#### BACKUP (备角色)

| 属性 | 值 |
|------|-----|
| 英文 | BACKUP |
| 中文 | 备角色 |
| 缩写 | - |
| 定义 | RouteAgent在场景组中的备用角色，准备接管PRIMARY的职责 |
| 职责 | 状态监听、链路同步、准备接管 |
| 状态 | STANDBY |

#### Failover (故障切换)

| 属性 | 值 |
|------|-----|
| 英文 | Failover |
| 中文 | 故障切换 |
| 缩写 | - |
| 定义 | 当PRIMARY故障时，BACKUP自动接管其职责的过程 |
| 流程 | 故障检测 → 选举 → KEY继承 → 链路恢复 → 技能启动 |
| 时间 | 目标 < 30秒 |

---

## 三、术语关系图

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           术语关系图                                          │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────┐                                                           │
│  │  MCP Agent  │                                                           │
│  └──────┬──────┘                                                           │
│         │ 管理                                                              │
│         ▼                                                                   │
│  ┌─────────────┐      ┌─────────────┐      ┌─────────────┐                │
│  │ Route Agent │◀────▶│ SceneGroup  │◀────▶│ SceneGroupKey│                │
│  └──────┬──────┘      └──────┬──────┘      └─────────────┘                │
│         │                    │                                              │
│         │ 路由                │ 包含                                         │
│         ▼                    ▼                                              │
│  ┌─────────────┐      ┌─────────────┐                                      │
│  │  End Agent  │      │    Scene    │                                      │
│  └─────────────┘      └──────┬──────┘                                      │
│                              │                                              │
│                              │ 定义                                          │
│                              ▼                                              │
│                       ┌─────────────┐                                      │
│                       │ Capability  │                                      │
│                       └──────┬──────┘                                      │
│                              │                                              │
│                              │ 实现                                          │
│                              ▼                                              │
│                       ┌─────────────┐      ┌─────────────┐                │
│                       │    Skill    │◀────▶│SkillPackage │                │
│                       └──────┬──────┘      └─────────────┘                │
│                              │                                              │
│                              │ 包含                                          │
│                              ▼                                              │
│         ┌────────────────────────────────────────────┐                     │
│         │         SkillIdentity                      │                     │
│         │         Config                              │                     │
│         │         VFS                                 │                     │
│         │         Auth                                │                     │
│         └────────────────────────────────────────────┘                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 四、术语使用示例

### 4.1 配置文件示例

```yaml
# skill.yaml
apiVersion: skill.ooder.net/v1
kind: Skill

metadata:
  id: skill-org-feishu           # 技能ID
  name: Feishu Organization Service
  version: 0.7.0
  
spec:
  type: enterprise-skill         # 技能类型
  
  scenes:                        # 场景配置
    primary:                     # 主场景
      name: auth
      role: provider             # 能力提供者
      
    collaborative:               # 协作场景
      - name: messaging
        role: consumer           # 能力消费者
        required: false
        
  capabilities:                  # 能力定义
    - id: org-data-read
      name: Organization Data Read
```

### 4.2 代码示例

```java
// 场景参与者类型
public enum SceneParticipantType {
    SKILL_PROVIDER,    // 技能作为能力提供者
    SKILL_CONSUMER,    // 技能作为能力消费者
    END_AGENT          // EndAgent作为调用者
}

// RouteAgent角色
public enum RouteAgentRole {
    PRIMARY,           // 主角色
    BACKUP             // 备角色
}

// 技能包管理器
public interface SkillPackageManager {
    // 发现技能
    CompletableFuture<List<SkillPackage>> discoverSkills(DiscoveryFilter filter);
    
    // 安装技能
    CompletableFuture<InstallResult> installSkill(InstallRequest request);
    
    // 请求加入场景
    CompletableFuture<SceneJoinResult> requestScene(SceneRequest request);
}
```

---

## 五、待确认术语

以下术语需要进一步讨论和确认：

| 术语 | 当前定义 | 待确认问题 |
|------|----------|------------|
| SkillSource | 技能来源地址 | 是否需要区分Source和Registry？ |
| SceneGroup | 场景组 | 是否与Scene是同一概念？ |
| CapabilityProvider | 能力提供者 | 是否需要更细粒度的角色划分？ |

---

## 六、版本历史

| 版本 | 日期 | 变更说明 |
|------|------|----------|
| v0.1 | 2026-02-15 | 初始版本，定义核心术语 |

---

## 附录：术语索引

### 按字母排序

| 英文 | 中文 | 分类 |
|------|------|------|
| BackUP | 备角色 | 故障切换 |
| Capability | 能力 | 能力层 |
| CapabilityConsumer | 能力消费者 | 能力层 |
| CapabilityProvider | 能力提供者 | 能力层 |
| End Agent | 终端智能体 | Agent层 |
| Failover | 故障切换 | 故障切换 |
| KeyShare | 密钥分片 | 安全层 |
| LocalRegistry | 本地注册表 | 技能层 |
| MCP Agent | 主控智能体 | Agent层 |
| NLP Discovery Mode | NLP检索模式 | 运行模式 |
| PRIMARY | 主角色 | 故障切换 |
| Route Agent | 路由智能体 | Agent层 |
| Scene | 场景 | 场景层 |
| SceneCA | 场景证书颁发机构 | 安全层 |
| SceneGroup | 场景组 | 场景层 |
| SceneGroupKey | 场景组密钥 | 场景层 |
| Skill | 技能 | 技能层 |
| SkillIdentity | 技能身份证明 | 资源层 |
| SkillPackage | 技能包 | 技能层 |
| SkillSource | 技能源 | 技能层 |
| SkillCenter | 技能中心 | 技能层 |
| Strict Mode | 严格模式 | 运行模式 |
| VFS | 虚拟文件系统 | 资源层 |
