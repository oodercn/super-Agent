/* InfoBlock组件主题系统 - 支持暗色、亮色、高对比度主题 */
:root {
  /* 基础样式变量 */
  --ood-infoblock-bg: #ffffff;
  --ood-infoblock-border: #e0e0e0;
  --ood-infoblock-text: #333333;
  --ood-infoblock-text-primary: #000000;
  --ood-infoblock-text-secondary: #666666;
  --ood-infoblock-hover-bg: #f5f5f5;
  --ood-infoblock-active-bg: #e8e8e8;
  
  /* 暗色主题变量 */
  --ood-dark-infoblock-bg: #2d2d2d;
  --ood-dark-infoblock-border: #444444;
  --ood-dark-infoblock-text: #e0e0e0;
  --ood-dark-infoblock-text-primary: #ffffff;
  --ood-dark-infoblock-text-secondary: #aaaaaa;
  --ood-dark-infoblock-hover-bg: #3a3a3a;
  --ood-dark-infoblock-active-bg: #4a4a4a;
  --ood-dark-image-filter: brightness(0.8) contrast(1.2);
  
  /* 高对比度主题变量 */
  --ood-highcontrast-infoblock-bg: #000000;
  --ood-highcontrast-infoblock-border: #ffffff;
  --ood-highcontrast-infoblock-text: #ffffff;
  --ood-highcontrast-infoblock-text-primary: #ffffff;
  --ood-highcontrast-infoblock-text-secondary: #cccccc;
  --ood-highcontrast-infoblock-hover-bg: #222222;
  --ood-highcontrast-infoblock-active-bg: #444444;
  --ood-highcontrast-image-filter: contrast(2) brightness(1.3);
  
  /* 响应式断点 */
  --ood-breakpoint-sm: 480px;
  --ood-breakpoint-md: 768px;
  --ood-breakpoint-lg: 1024px;
  --ood-breakpoint-xl: 1280px;
}

/* 基础InfoBlock样式 */
.ood-infoblock {
  background-color: var(--ood-infoblock-bg);
  border: 1px solid var(--ood-infoblock-border);
  color: var(--ood-infoblock-text);
  transition: all 0.3s ease;
}

.ood-infoblock-item {
  background-color: var(--ood-infoblock-bg);
  border: 1px solid var(--ood-infoblock-border);
  color: var(--ood-infoblock-text);
  padding: 0.5em;
  margin: 0.25em;
  transition: all 0.2s ease;
  cursor: pointer;
}

.ood-infoblock-item:hover {
  background-color: var(--ood-infoblock-hover-bg);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.ood-infoblock-item:active {
  background-color: var(--ood-infoblock-active-bg);
  transform: translateY(0);
}

.ood-infoblock-caption {
  color: var(--ood-infoblock-text-primary);
  font-weight: bold;
  font-size: 20px;
  margin-top: 15px;
  height: 35px;
  text-align: center;
  overflow: hidden;
  white-space: nowrap;
}

.ood-infoblock-comment {
  color: var(--ood-infoblock-text-secondary);
  font-size: 1em;
  text-align: center;
  margin: 0.25em;
}

.ood-infoblock-image {
  filter: var(--ood-image-filter);
  transition: filter 0.3s ease;
}

/* 暗色主题 */
[data-theme="dark"] .ood-infoblock,
.infoblock-dark {
  background-color: var(--ood-dark-infoblock-bg) !important;
  border-color: var(--ood-dark-infoblock-border) !important;
  color: var(--ood-dark-infoblock-text) !important;
}

[data-theme="dark"] .ood-infoblock-item,
.infoblock-dark .ood-infoblock-item {
  background-color: var(--ood-dark-infoblock-bg) !important;
  border-color: var(--ood-dark-infoblock-border) !important;
  color: var(--ood-dark-infoblock-text) !important;
}

[data-theme="dark"] .ood-infoblock-item:hover,
.infoblock-dark .ood-infoblock-item:hover {
  background-color: var(--ood-dark-infoblock-hover-bg) !important;
}

[data-theme="dark"] .ood-infoblock-item:active,
.infoblock-dark .ood-infoblock-item:active {
  background-color: var(--ood-dark-infoblock-active-bg) !important;
}

[data-theme="dark"] .ood-infoblock-caption,
.infoblock-dark .ood-infoblock-caption {
  color: var(--ood-dark-infoblock-text-primary) !important;
}

[data-theme="dark"] .ood-infoblock-comment,
.infoblock-dark .ood-infoblock-comment {
  color: var(--ood-dark-infoblock-text-secondary) !important;
}

[data-theme="dark"] .ood-infoblock-image,
.infoblock-dark .ood-infoblock-image {
  filter: var(--ood-dark-image-filter) !important;
}

/* 高对比度主题 */
[data-theme="highcontrast"] .ood-infoblock,
.infoblock-highcontrast {
  background-color: var(--ood-highcontrast-infoblock-bg) !important;
  border-color: var(--ood-highcontrast-infoblock-border) !important;
  border-width: 2px !important;
  color: var(--ood-highcontrast-infoblock-text) !important;
}

[data-theme="highcontrast"] .ood-infoblock-item,
.infoblock-highcontrast .ood-infoblock-item {
  background-color: var(--ood-highcontrast-infoblock-bg) !important;
  border-color: var(--ood-highcontrast-infoblock-border) !important;
  border-width: 2px !important;
  color: var(--ood-highcontrast-infoblock-text) !important;
}

[data-theme="highcontrast"] .ood-infoblock-item:hover,
.infoblock-highcontrast .ood-infoblock-item:hover {
  background-color: var(--ood-highcontrast-infoblock-hover-bg) !important;
  outline: 2px solid #ffff00;
}

[data-theme="highcontrast"] .ood-infoblock-item:active,
.infoblock-highcontrast .ood-infoblock-item:active {
  background-color: var(--ood-highcontrast-infoblock-active-bg) !important;
}

[data-theme="highcontrast"] .ood-infoblock-caption,
.infoblock-highcontrast .ood-infoblock-caption {
  color: var(--ood-highcontrast-infoblock-text-primary) !important;
  font-weight: 900;
}

[data-theme="highcontrast"] .ood-infoblock-comment,
.infoblock-highcontrast .ood-infoblock-comment {
  color: var(--ood-highcontrast-infoblock-text-secondary) !important;
}

[data-theme="highcontrast"] .ood-infoblock-image,
.infoblock-highcontrast .ood-infoblock-image {
  filter: var(--ood-highcontrast-image-filter) !important;
}

/* 响应式设计 */
@media (max-width: 768px) {
  .ood-infoblock.infoblock-mobile {
    padding: 0.5em;
  }
  
  .ood-infoblock-item.infoblock-mobile {
    padding: 0.4em;
    margin: 0.2em;
    font-size: 14px;
  }
  
  .ood-infoblock-caption.infoblock-mobile {
    font-size: 16px;
    margin-top: 10px;
    height: 30px;
  }
  
  .ood-infoblock-comment.infoblock-mobile {
    font-size: 0.9em;
  }
}

@media (max-width: 480px) {
  .ood-infoblock.infoblock-tiny {
    padding: 0.3em;
  }
  
  .ood-infoblock-item.infoblock-tiny {
    padding: 0.3em;
    margin: 0.15em;
    font-size: 12px;
  }
  
  .ood-infoblock-caption.infoblock-tiny {
    font-size: 14px;
    margin-top: 8px;
    height: 25px;
  }
  
  .ood-infoblock-comment.infoblock-tiny {
    font-size: 0.8em;
  }
}

/* 可访问性支持 */
.ood-infoblock-item[tabindex="0"]:focus {
  outline: 2px solid #0066cc;
  outline-offset: 2px;
}

.ood-infoblock-item[aria-disabled="true"] {
  opacity: 0.6;
  cursor: not-allowed;
  background-color: #f0f0f0 !important;
}

[data-theme="dark"] .ood-infoblock-item[aria-disabled="true"],
.infoblock-dark .ood-infoblock-item[aria-disabled="true"] {
  background-color: #444444 !important;
}

[data-theme="highcontrast"] .ood-infoblock-item[aria-disabled="true"],
.infoblock-highcontrast .ood-infoblock-item[aria-disabled="true"] {
  background-color: #333333 !important;
  outline: 1px dashed #cccccc;
}

/* 键盘导航焦点样式 */
.ood-infoblock-item:focus-visible {
  box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.5);
}

/* 高对比度模式的焦点增强 */
@media (prefers-contrast: high) {
  .ood-infoblock-item:focus-visible {
    outline: 3px solid windowText;
    outline-offset: 1px;
  }
}

/* 减少动画（可访问性） */
@media (prefers-reduced-motion: reduce) {
  .ood-infoblock,
  .ood-infoblock-item {
    transition: none;
  }
  
  .ood-infoblock-item:hover {
    transform: none;
  }
}

/* 屏幕阅读器专用样式 */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}