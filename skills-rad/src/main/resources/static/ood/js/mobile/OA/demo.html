<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>移动端OA办公组件演示</title>
    <link rel="stylesheet" href="../../mobile.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
        }
        
        .demo-container {
            max-width: 100%;
            margin: 0 auto;
            padding: 10px;
        }
        
        .demo-section {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .demo-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .component-container {
            min-height: 200px;
        }
        
        .tab-container {
            display: flex;
            border-bottom: 1px solid #eee;
            margin-bottom: 15px;
        }
        
        .tab {
            flex: 1;
            text-align: center;
            padding: 10px;
            cursor: pointer;
            background: #f8f8f8;
        }
        
        .tab.active {
            background: #007AFF;
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .link-section {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .demo-link {
            display: inline-block;
            padding: 10px 20px;
            background-color: #007AFF;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-size: 16px;
            margin: 10px;
            transition: background-color 0.3s;
        }
        
        .demo-link:hover {
            background-color: #0056b3;
        }
    </style>
    <!-- 引入OA移动端组件样式 -->
    <link rel="stylesheet" href="../../css/mobile/oa-mobile.css">
</head>
<body>
    <div class="demo-container">
        <h1 style="text-align: center; color: #333; padding: 20px 0;">移动端OA办公组件演示</h1>
        
        <div class="link-section">
            <a href="notice_designer_demo_v2.html" class="demo-link">查看设计器版本详细演示</a>
            <a href="notice_designer_advanced_demo.html" class="demo-link">查看高级设计器版本演示</a>
        </div>
        
        <!-- 通知公告组件 -->
        <div class="demo-section">
            <div class="demo-title">通知公告组件</div>
            <div id="notice-container" class="component-container"></div>
        </div>
        
        <!-- 待办事项组件 -->
        <div class="demo-section">
            <div class="demo-title">待办事项组件</div>
            <div id="todo-container" class="component-container"></div>
        </div>
        
        <!-- 审批流程组件 -->
        <div class="demo-section">
            <div class="demo-title">审批流程组件</div>
            <div id="approval-container" class="component-container"></div>
        </div>
        
        <!-- 日程安排组件 -->
        <div class="demo-section">
            <div class="demo-title">日程安排组件</div>
            <div id="schedule-container" class="component-container"></div>
        </div>
        
        <!-- 通讯录组件 -->
        <div class="demo-section">
            <div class="demo-title">通讯录组件</div>
            <div id="contact-container" class="component-container" style="height: 300px;"></div>
        </div>
        
        <!-- 文件管理组件 -->
        <div class="demo-section">
            <div class="demo-title">文件管理组件</div>
            <div id="file-container" class="component-container" style="height: 400px;"></div>
        </div>
        
        <!-- 会议管理组件 -->
        <div class="demo-section">
            <div class="demo-title">会议管理组件</div>
            <div id="meeting-container" class="component-container" style="height: 400px;"></div>
        </div>
        
        <!-- 考勤打卡组件 -->
        <div class="demo-section">
            <div class="demo-title">考勤打卡组件</div>
            <div id="attendance-container" class="component-container" style="height: 500px;"></div>
        </div>
        
        <!-- 通知公告组件（设计器版本） -->
        <div class="demo-section">
            <div class="demo-title">通知公告组件（设计器版本）</div>
            <div id="notice-designer-container" class="component-container"></div>
        </div>
    </div>

    <!-- 引入依赖 -->
    <script src="../../../ood.js"></script>
    <script src="../../index.js"></script>
    
    <!-- 引入OA组件 -->
    <script src="./Notice.js"></script>
    <script src="./TodoList.js"></script>
    <script src="./ApprovalFlow.js"></script>
    <script src="./Schedule.js"></script>
    <script src="./ContactList.js"></script>
    <script src="./FileManager.js"></script>
    <script src="./MeetingManager.js"></script>
    <script src="./Attendance.js"></script>
    
    <script>
        // 等待框架加载完成
        document.addEventListener('ood-ready', function() {
            // 创建通知公告组件
            var notice = new (ood.Class.getInstance('ood.Mobile.OA.Notice'))({
                notices: [
                    {
                        id: '1',
                        title: '关于五一假期安排的通知',
                        time: '2025-04-25',
                        summary: '根据国家规定，结合公司实际情况，现将2025年五一劳动节放假安排通知如下...',
                        important: true,
                        read: false,
                        disabled: false
                    },
                    {
                        id: '2',
                        title: '新员工入职培训安排',
                        time: '2025-04-20',
                        summary: '欢迎新员工加入公司，现将入职培训相关安排通知如下...',
                        important: false,
                        read: true,
                        disabled: false
                    }
                ],
                onNoticeClick: function(profile, index, notice) {
                    alert('点击了通知: ' + notice.title);
                }
            });
            notice.render(document.getElementById('notice-container'));
            
            // 创建待办事项组件
            var todoList = new (ood.Class.getInstance('ood.Mobile.OA.TodoList'))({
                todos: [
                    {
                        id: '1',
                        title: '完成季度报告',
                        dueDate: '2025-09-20',
                        priority: 'high',
                        completed: false,
                        disabled: false
                    },
                    {
                        id: '2',
                        title: '准备会议材料',
                        dueDate: '2025-09-18',
                        priority: 'medium',
                        completed: true,
                        disabled: false
                    },
                    {
                        id: '3',
                        title: '回复客户邮件',
                        dueDate: '2025-09-15',
                        priority: 'low',
                        completed: false,
                        disabled: false
                    }
                ],
                onTodoClick: function(profile, index, todo) {
                    alert('点击了待办事项: ' + todo.title);
                },
                onTodoCompleteChange: function(profile, index, todo) {
                    console.log('待办事项状态改变:', todo);
                }
            });
            todoList.render(document.getElementById('todo-container'));
            
            // 创建审批流程组件
            var approvalFlow = new (ood.Class.getInstance('ood.Mobile.OA.ApprovalFlow'))({
                approvals: [
                    {
                        id: '1',
                        title: '请假申请',
                        applicant: '张三',
                        applyTime: '2025-09-14 09:30',
                        type: '请假',
                        status: 'pending',
                        urgent: false,
                        disabled: false
                    },
                    {
                        id: '2',
                        title: '出差申请',
                        applicant: '李四',
                        applyTime: '2025-09-13 14:20',
                        type: '出差',
                        status: 'approved',
                        urgent: true,
                        disabled: false
                    },
                    {
                        id: '3',
                        title: '报销申请',
                        applicant: '王五',
                        applyTime: '2025-09-12 11:15',
                        type: '报销',
                        status: 'rejected',
                        urgent: false,
                        disabled: false
                    }
                ],
                onApprovalClick: function(profile, index, approval) {
                    alert('点击了审批: ' + approval.title);
                },
                onActionClick: function(profile, index, approval, action) {
                    alert('执行了操作: ' + action + ' 审批: ' + approval.title);
                }
            });
            approvalFlow.render(document.getElementById('approval-container'));
            
            // 创建日程安排组件
            var schedule = new (ood.Class.getInstance('ood.Mobile.OA.Schedule'))({
                schedules: [
                    {
                        id: '1',
                        date: '2025-09-15',
                        time: '09:00-10:00',
                        title: '部门周会',
                        location: '会议室A',
                        participants: ['张三', '李四', '王五'],
                        important: true,
                        disabled: false
                    },
                    {
                        id: '2',
                        date: '2025-09-15',
                        time: '14:00-15:30',
                        title: '项目评审',
                        location: '会议室B',
                        participants: ['赵六', '钱七'],
                        important: false,
                        disabled: false
                    },
                    {
                        id: '3',
                        date: '2025-09-16',
                        time: '10:00-11:00',
                        title: '客户拜访',
                        location: '客户公司',
                        participants: ['孙八'],
                        important: true,
                        disabled: false
                    }
                ],
                onScheduleClick: function(profile, index, schedule) {
                    alert('点击了日程: ' + schedule.title);
                }
            });
            schedule.render(document.getElementById('schedule-container'));
            
            // 创建通讯录组件
            var contactList = new (ood.Class.getInstance('ood.Mobile.OA.ContactList'))({
                contacts: [
                    {
                        id: '1',
                        name: '张三',
                        position: '产品经理',
                        department: '产品部',
                        avatar: '',
                        phone: '13800138001',
                        email: 'zhangsan@company.com',
                        disabled: false
                    },
                    {
                        id: '2',
                        name: '李四',
                        position: '前端工程师',
                        department: '技术部',
                        avatar: '',
                        phone: '13800138002',
                        email: 'lisi@company.com',
                        disabled: false
                    },
                    {
                        id: '3',
                        name: '王五',
                        position: '设计师',
                        department: '设计部',
                        avatar: '',
                        phone: '13800138003',
                        email: 'wangwu@company.com',
                        disabled: false
                    }
                ],
                onContactClick: function(profile, index, contact) {
                    alert('点击了联系人: ' + contact.name);
                }
            });
            contactList.render(document.getElementById('contact-container'));
            
            // 创建文件管理组件
            var fileManager = new (ood.Class.getInstance('ood.Mobile.OA.FileManager'))({
                files: [
                    {
                        id: '1',
                        name: '项目计划书.docx',
                        type: 'doc',
                        size: 102400,
                        modifiedTime: '2025-09-14 10:30',
                        disabled: false
                    },
                    {
                        id: '2',
                        name: '产品需求文档.pdf',
                        type: 'pdf',
                        size: 204800,
                        modifiedTime: '2025-09-13 15:45',
                        disabled: false
                    },
                    {
                        id: '3',
                        name: '设计素材',
                        type: 'folder',
                        size: 0,
                        modifiedTime: '2025-09-12 09:15',
                        disabled: false
                    },
                    {
                        id: '4',
                        name: '会议照片.jpg',
                        type: 'image',
                        size: 512000,
                        modifiedTime: '2025-09-11 14:20',
                        disabled: false
                    }
                ],
                onFileClick: function(profile, index, file) {
                    alert('点击了文件: ' + file.name);
                },
                onActionClick: function(profile, index, file, action) {
                    alert('执行了操作: ' + action + ' 文件: ' + file.name);
                }
            });
            fileManager.render(document.getElementById('file-container'));
            
            // 创建会议管理组件
            var meetingManager = new (ood.Class.getInstance('ood.Mobile.OA.MeetingManager'))({
                meetings: [
                    {
                        id: '1',
                        title: '项目周会',
                        startTime: '2025-09-15 09:00',
                        endTime: '2025-09-15 10:00',
                        room: '会议室A',
                        participants: ['张三', '李四', '王五'],
                        status: 'scheduled',
                        disabled: false
                    },
                    {
                        id: '2',
                        title: '产品评审会',
                        startTime: '2025-09-15 14:00',
                        endTime: '2025-09-15 15:30',
                        room: '会议室B',
                        participants: ['赵六', '钱七', '孙八'],
                        status: 'in-progress',
                        disabled: false
                    },
                    {
                        id: '3',
                        title: '季度总结会',
                        startTime: '2025-09-14 10:00',
                        endTime: '2025-09-14 12:00',
                        room: '大会议室',
                        participants: ['全体成员'],
                        status: 'completed',
                        disabled: false
                    }
                ],
                onMeetingClick: function(profile, index, meeting) {
                    alert('点击了会议: ' + meeting.title);
                },
                onActionClick: function(profile, index, meeting, action) {
                    alert('执行了操作: ' + action + ' 会议: ' + meeting.title);
                }
            });
            meetingManager.render(document.getElementById('meeting-container'));
            
            // 创建考勤打卡组件
            var attendance = new (ood.Class.getInstance('ood.Mobile.OA.Attendance'))({
                attendanceData: {
                    attendanceDays: 18,
                    lateCount: 2,
                    earlyLeaveCount: 1,
                    records: [
                        {
                            date: '2025-09-14',
                            punchInTime: '08:55',
                            punchOutTime: '18:10',
                            status: 'normal'
                        },
                        {
                            date: '2025-09-13',
                            punchInTime: '09:15',
                            punchOutTime: '18:05',
                            status: 'late'
                        },
                        {
                            date: '2025-09-12',
                            punchInTime: '08:50',
                            punchOutTime: '17:30',
                            status: 'early'
                        }
                    ]
                },
                onPunch: function(profile, type, time, record) {
                    alert((type === 'in' ? '上班' : '下班') + '打卡成功: ' + time);
                }
            });
            attendance.render(document.getElementById('attendance-container'));
            
            // 创建通知公告组件（设计器版本）
            var noticeDesigner = new (ood.Class.getInstance('ood.Mobile.OA.NoticeDesigner'))({
                width: '100%',
                height: 'auto'
            });
            noticeDesigner.render(document.getElementById('notice-designer-container'));
        });
    </script>
    
    <!-- 引入设计器版本组件 -->
    <script src="./NoticeDesigner.js"></script>
    <!-- 引入高级设计器版本组件 -->
    <script src="./NoticeDesignerAdvanced.js"></script>
</body>
</html>