# ooderNexus - P2P AI èƒ½åŠ›åˆ†å‘æ¢çº½

## 1. é¡¹ç›®ç®€ä»‹

### 1.1 ä»€ä¹ˆæ˜¯ ooderNexusï¼Ÿ

ooderNexus æ˜¯ä¸€ä¸ªåŸºäº Ooder Agent æ¶æ„çš„ **P2P AI èƒ½åŠ›åˆ†å‘æ¢çº½**ï¼Œé‡‡ç”¨ MIT å¼€æºåè®®ã€‚å®ƒå°†å»ä¸­å¿ƒåŒ–çš„ P2P ç½‘ç»œæŠ€æœ¯ä¸ AI èƒ½åŠ›ç®¡ç†ç›¸ç»“åˆï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿåœ¨æœ¬åœ°ç½‘ç»œä¸­æ„å»ºç§æœ‰çš„ AI èƒ½åŠ›å…±äº«å¹³å°ã€‚

**æ ¸å¿ƒèƒ½åŠ›**ï¼š
- ğŸ¤ **å»ä¸­å¿ƒåŒ–ç»„ç½‘** - æ— éœ€ä¸­å¿ƒæœåŠ¡å™¨ï¼ŒèŠ‚ç‚¹é—´ç›´æ¥é€šä¿¡
- ğŸ§  **AI æŠ€èƒ½ç®¡ç†** - å‘å¸ƒã€åˆ†äº«ã€æ‰§è¡Œ AI æŠ€èƒ½
- ğŸ”§ **ç½‘ç»œç®¡ç†ä¸­æ¢** - å¯è§†åŒ–ç½‘ç»œæ‹“æ‰‘å’Œè®¾å¤‡ç®¡ç†
- ğŸ“¡ **OpenWrt é›†æˆ** - æ·±åº¦é›†æˆè·¯ç”±å™¨ç³»ç»Ÿ
- ğŸ§ª **åè®®ä»¿çœŸè°ƒè¯•** - ç¦»çº¿å¼€å‘å’Œæµ‹è¯•

### 1.2 ç‰ˆæœ¬ä¿¡æ¯

**å½“å‰ç‰ˆæœ¬ï¼š2.0.0-openwrt-preview**ï¼ˆOpenWrt é¢„è§ˆç‰ˆï¼‰

> âš ï¸ **é¢„è§ˆç‰ˆå£°æ˜**ï¼šæ­¤ç‰ˆæœ¬ä¸º OpenWrt è·¯ç”±å™¨ç®¡ç†åŠŸèƒ½çš„é¢„è§ˆç‰ˆï¼Œä¸»è¦ç”¨äºæµ‹è¯•å’Œè¯„ä¼°ã€‚

- ğŸ§ª **é¢„è§ˆæµ‹è¯•**ï¼šæ–°åŠŸèƒ½é¢„è§ˆï¼Œæ”¶é›†ç”¨æˆ·åé¦ˆ
- ğŸ”§ **åŠŸèƒ½è¿­ä»£**ï¼šæŒç»­ä¼˜åŒ– OpenWrt é›†æˆä½“éªŒ
- ğŸ“ˆ **æ€§èƒ½è°ƒä¼˜**ï¼šé’ˆå¯¹è·¯ç”±å™¨åœºæ™¯è¿›è¡Œæ€§èƒ½ä¼˜åŒ–

**é€‚ç”¨åœºæ™¯**ï¼š
- âœ… OpenWrt è·¯ç”±å™¨ç®¡ç†åŠŸèƒ½æµ‹è¯•
- âœ… Windows ç”¨æˆ·é¢„è§ˆ OpenWrt ç®¡ç†åŠŸèƒ½
- âœ… å¼€å‘è€…å’Œæ—©æœŸç”¨æˆ·ä½“éªŒæ–°ç‰¹æ€§

**æ³¨æ„äº‹é¡¹**ï¼š
- é¢„è§ˆç‰ˆå¯èƒ½å­˜åœ¨æœªå‘ç°çš„ Bug
- éƒ¨åˆ†é«˜çº§åŠŸèƒ½ä»åœ¨å¼€å‘ä¸­
- å»ºè®®æµ‹è¯•ç¯å¢ƒä½¿ç”¨ï¼Œç”Ÿäº§ç¯å¢ƒè¯·ç­‰å¾…æ­£å¼ç‰ˆ

### 1.3 é€‚ç”¨åœºæ™¯

| åœºæ™¯ | éƒ¨ç½²è®¾å¤‡ | ä¸»è¦ç”¨é€” |
|------|----------|----------|
| ğŸ  **å®¶åº­æ™ºèƒ½ä¸­æ¢** | OpenWrt è·¯ç”±å™¨ | æ™ºèƒ½å®¶å±…æ§åˆ¶ã€ç½‘ç»œç®¡ç† |
| ğŸ¢ **ä¼ä¸š AI å¹³å°** | æœåŠ¡å™¨/å·¥æ§æœº | å†…éƒ¨ AI èƒ½åŠ›å…±äº« |
| ğŸŒ **è¾¹ç¼˜è®¡ç®—ç½‘ç»œ** | æ ‘è“æ´¾/å¼€å‘æ¿ | åˆ†å¸ƒå¼è®¡ç®—èŠ‚ç‚¹ |
| ğŸ’» **å¼€å‘æµ‹è¯•å¹³å°** | PC/ç¬”è®°æœ¬ | åè®®å¼€å‘ã€æŠ€èƒ½è°ƒè¯• |

---

## 2. æ ¸å¿ƒåŠŸèƒ½

### 2.1 åŠŸèƒ½æ¦‚è§ˆ

ooderNexus 2.0.0-openwrt-preview åŒ…å«ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ooderNexus 2.0.0 ä¼ä¸šç‰ˆåŠŸèƒ½æ¶æ„                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å·¥ä½œå°    â”‚ æŠ€èƒ½ä¸­å¿ƒ â”‚ LLMæœåŠ¡ â”‚ èµ„æºç®¡ç† â”‚ å­˜å‚¨ç®¡ç† â”‚ å®‰å…¨ä¸­å¿ƒ          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç½‘ç»œç®¡ç†  â”‚ é€šä¿¡ç®¡ç† â”‚ æ¶ˆæ¯å‘½ä»¤â”‚ å³æ—¶é€šè®¯ â”‚ ä¼ä¸šä¸šåŠ¡ â”‚ ç›‘æ§è¿ç»´          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åœºæ™¯ç®¡ç†  â”‚ æ•°æ®æº   â”‚ åä½œåè°ƒâ”‚ å¼‚å¸¸å¤„ç† â”‚ è·¯ç”±ç®¡ç† â”‚ OpenWrt â”‚ ç³»ç»Ÿé…ç½®â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 åŠŸèƒ½è¯¦è§£

#### 2.2.1 å·¥ä½œå°
- **ç³»ç»Ÿæ¦‚è§ˆ**ï¼šå±•ç¤ºç³»ç»Ÿæ•´ä½“è¿è¡ŒçŠ¶æ€
- **å¿«æ·å…¥å£**ï¼šå¸¸ç”¨åŠŸèƒ½å¿«é€Ÿè®¿é—®
- **å‘Šè­¦é€šçŸ¥**ï¼šå®æ—¶å‘Šè­¦å’Œæ¶ˆæ¯æé†’
- **æ•°æ®ç»Ÿè®¡**ï¼šå…³é”®æŒ‡æ ‡å¯è§†åŒ–å±•ç¤º

#### 2.2.2 æŠ€èƒ½ä¸­å¿ƒ
- **æŠ€èƒ½å¸‚åœº**ï¼šæµè§ˆå’Œå®‰è£…ç½‘ç»œä¸­çš„æŠ€èƒ½
- **å·²å®‰è£…æŠ€èƒ½**ï¼šç®¡ç†æœ¬åœ°å·²å®‰è£…çš„æŠ€èƒ½åŒ…
- **è¿œç¨‹å®‰è£…**ï¼šä»è¿œç¨‹ä»“åº“å®‰è£…æŠ€èƒ½
- **æŠ€èƒ½åŒæ­¥**ï¼šå¤šèŠ‚ç‚¹é—´æŠ€èƒ½è‡ªåŠ¨åŒæ­¥
- **æŠ€èƒ½ä¸Šä¼ **ï¼šä¸Šä¼ æœ¬åœ°æŠ€èƒ½åˆ°æŠ€èƒ½ä¸­å¿ƒ
- **æŠ€èƒ½åˆ†ç±»**ï¼šæŠ€èƒ½åŒ…åˆ†ç±»ç®¡ç†

#### 2.2.3 LLMæœåŠ¡
- **LLMå¯¹è¯**ï¼šä¸å¤§è¯­è¨€æ¨¡å‹è¿›è¡Œå¯¹è¯äº¤äº’
- **LLMå‡½æ•°**ï¼šç®¡ç† LLM å¯è°ƒç”¨çš„å‡½æ•°
- **LLMåµŒå…¥**ï¼šå‘é‡åµŒå…¥æœåŠ¡
- **LLMç®¡ç†**ï¼šLLM æœåŠ¡é…ç½®å’Œç®¡ç†

#### 2.2.4 èµ„æºç®¡ç†
- **NexusèŠ‚ç‚¹**ï¼šç®¡ç† P2P ç½‘ç»œä¸­çš„ Nexus èŠ‚ç‚¹
- **MCP Agent**ï¼šMCP åè®®ä»£ç†ç®¡ç†
- **èƒ½åŠ›æœåŠ¡**ï¼šæ³¨å†Œå’Œç®¡ç†ç½‘ç»œèƒ½åŠ›
- **ç½‘ç»œèŠ‚ç‚¹**ï¼šç½‘ç»œè®¾å¤‡èŠ‚ç‚¹ç®¡ç†
- **é“¾è·¯ç®¡ç†**ï¼šèŠ‚ç‚¹é—´é“¾è·¯åˆ›å»ºå’Œç›‘æ§

#### 2.2.5 å­˜å‚¨ç®¡ç†
- **å­˜å‚¨ç±»å‹**ï¼šç®¡ç†ä¸åŒç±»å‹çš„å­˜å‚¨åç«¯
- **æ–‡ä»¶æµè§ˆ**ï¼šè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿæµè§ˆ
- **å…±äº«æ–‡ä»¶**ï¼šæ–‡ä»¶å…±äº«ç®¡ç†
- **æ¥æ”¶æ–‡ä»¶**ï¼šæ¥æ”¶å…¶ä»–èŠ‚ç‚¹åˆ†äº«çš„æ–‡ä»¶
- **èƒ½åŠ›ç›‘æ§**ï¼šå­˜å‚¨èƒ½åŠ›ç›‘æ§
- **æ¸…ç†ç­–ç•¥**ï¼šè‡ªåŠ¨æ¸…ç†ç­–ç•¥é…ç½®

#### 2.2.6 å®‰å…¨ä¸­å¿ƒ
- **ç”¨æˆ·å¯†é’¥**ï¼šç”¨æˆ·çº§åˆ«å¯†é’¥ç®¡ç†
- **åŸŸå¯†é’¥**ï¼šåŸŸçº§åˆ«å¯†é’¥ç®¡ç†
- **åœºæ™¯ç»„å¯†é’¥**ï¼šåœºæ™¯ç»„å¯†é’¥ç®¡ç†
- **æ•°å­—è¯ä¹¦**ï¼šX.509 è¯ä¹¦ç®¡ç†
- **è®¿é—®ä»¤ç‰Œ**ï¼šAPI è®¿é—®ä»¤ç‰Œç®¡ç†

#### 2.2.7 ç½‘ç»œç®¡ç†
- **ç½‘ç»œæ¦‚è§ˆ**ï¼šç½‘ç»œçŠ¶æ€æ€»è§ˆ
- **ç½‘ç»œæ‹“æ‰‘**ï¼šå¯è§†åŒ–ç½‘ç»œæ‹“æ‰‘å›¾
- **ç½‘ç»œè®¾å¤‡**ï¼šç½‘ç»œè®¾å¤‡èµ„äº§ç®¡ç†
- **æµé‡ç›‘æ§**ï¼šå®æ—¶ç½‘ç»œæµé‡ç»Ÿè®¡
- **IPç®¡ç†**ï¼šIP åœ°å€åˆ†é…å’Œç®¡ç†
- **è®¿é—®æ§åˆ¶**ï¼šç½‘ç»œè®¿é—®æ§åˆ¶ç­–ç•¥
- **é˜²ç«å¢™**ï¼šé˜²ç«å¢™è§„åˆ™é…ç½®

#### 2.2.8 é€šä¿¡ç®¡ç†
- **å‘½ä»¤è½¬å‘**ï¼šå‘½ä»¤è·¯ç”±å’Œè½¬å‘
- **P2På®¡æ‰¹**ï¼šP2P è¿æ¥å®¡æ‰¹æµç¨‹
- **P2Pç›‘æ§**ï¼šP2P è¿æ¥çŠ¶æ€ç›‘æ§
- **P2På¯è§†åŒ–**ï¼šP2P ç½‘ç»œå¯è§†åŒ–
- **æƒé™è§„åˆ™**ï¼šé€šä¿¡æƒé™è§„åˆ™é…ç½®

#### 2.2.8 æ¶ˆæ¯å‘½ä»¤ä¸­å¿ƒ
- **æ¶ˆæ¯æ¨é€**ï¼šæ¶ˆæ¯æ¨é€æœåŠ¡
- **æ¶ˆæ¯ç®¡ç†**ï¼šæ¶ˆæ¯å­˜å‚¨å’ŒæŸ¥è¯¢
- **Topicç®¡ç†**ï¼šæ¶ˆæ¯ä¸»é¢˜ç®¡ç†
- **å‘½ä»¤å‘é€**ï¼šå‘½ä»¤å‘é€å’Œæ‰§è¡Œ
- **æ‰§è¡Œç›‘æ§**ï¼šå‘½ä»¤æ‰§è¡ŒçŠ¶æ€ç›‘æ§

#### 2.2.10 å³æ—¶é€šè®¯
- **ä¼šè¯åˆ—è¡¨**ï¼šèŠå¤©ä¼šè¯ç®¡ç†
- **è”ç³»äºº**ï¼šè”ç³»äººç®¡ç†
- **ç¾¤ç»„ç®¡ç†**ï¼šç¾¤ç»„åˆ›å»ºå’Œç®¡ç†

#### 2.2.11 ä¼ä¸šä¸šåŠ¡
- **ä¸šåŠ¡åˆ†ç±»**ï¼šä¸šåŠ¡åœºæ™¯åˆ†ç±»
- **ä¸šåŠ¡åœºæ™¯**ï¼šä¸šåŠ¡åœºæ™¯é…ç½®
- **ç»„ç»‡æ¶æ„**ï¼šä¼ä¸šç»„ç»‡æ¶æ„
- **ç»„ç»‡ç®¡ç†**ï¼šç»„ç»‡ä¿¡æ¯ç®¡ç†

#### 2.2.12 ç›‘æ§è¿ç»´
- **ç›‘æ§ä»ªè¡¨ç›˜**ï¼šç³»ç»Ÿç›‘æ§æ€»è§ˆ
- **ç½‘ç»œæ‹“æ‰‘**ï¼šç½‘ç»œæ‹“æ‰‘ç›‘æ§
- **è·¯ç”±è§‚æµ‹**ï¼šè·¯ç”±çŠ¶æ€è§‚æµ‹
- **èµ„æºç›‘æ§**ï¼šCPUã€å†…å­˜ã€ç£ç›˜ç›‘æ§
- **å¥åº·æ£€æŸ¥**ï¼šç³»ç»Ÿå¥åº·çŠ¶æ€æ£€æŸ¥
- **å†å²æ—¥å¿—**ï¼šå†å²æ—¥å¿—æŸ¥è¯¢
- **æ—¥å¿—ç®¡ç†**ï¼šæ—¥å¿—é…ç½®ç®¡ç†

#### 2.2.13 åœºæ™¯ç®¡ç†
- **åœºæ™¯åˆ—è¡¨**ï¼šåœºæ™¯é…ç½®åˆ—è¡¨
- **è¿è¡Œç›‘æ§**ï¼šåœºæ™¯è¿è¡ŒçŠ¶æ€ç›‘æ§
- **å¯åŠ¨æµç¨‹**ï¼šåœºæ™¯å¯åŠ¨æµç¨‹è·Ÿè¸ª
- **é…ç½®ç¼–è¾‘**ï¼šåœºæ™¯é…ç½®ç¼–è¾‘å™¨
- **é…ç½®å†å²**ï¼šé…ç½®å˜æ›´å†å²
- **åœºæ™¯ç¼–æ’**ï¼šåœºæ™¯å¯è§†åŒ–ç¼–æ’

#### 2.2.14 æ•°æ®æºç®¡ç†
- **æ•°æ®æºé…ç½®**ï¼šå¤–éƒ¨æ•°æ®æºé…ç½®
- **åŒæ­¥ç®¡ç†**ï¼šæ•°æ®åŒæ­¥ä»»åŠ¡ç®¡ç†
- **æ•°æ®æå–ä»»åŠ¡**ï¼šæ•°æ®æå–ä»»åŠ¡è°ƒåº¦

#### 2.2.14 åä½œåè°ƒ
- **åä½œè¯·æ±‚**ï¼šåä½œè¯·æ±‚å¤„ç†
- **ä»»åŠ¡åˆ†é…**ï¼šä»»åŠ¡åˆ†é…å’Œè°ƒåº¦
- **çŠ¶æ€è·Ÿè¸ª**ï¼šä»»åŠ¡çŠ¶æ€è·Ÿè¸ª

#### 2.2.15 å¼‚å¸¸å¤„ç†
- **å¼‚å¸¸æ£€æµ‹**ï¼šç³»ç»Ÿå¼‚å¸¸è‡ªåŠ¨æ£€æµ‹
- **è‡ªåŠ¨çº æ­£**ï¼šå¼‚å¸¸è‡ªåŠ¨çº æ­£ç­–ç•¥
- **æ‰‹åŠ¨å¹²é¢„**ï¼šæ‰‹åŠ¨å¹²é¢„å¤„ç†

#### 2.2.17 è·¯ç”±ç®¡ç†
- **è·¯ç”±é…ç½®**ï¼šè·¯ç”±è§„åˆ™é…ç½®
- **åè®®ç®¡ç†**ï¼šé€šä¿¡åè®®ç®¡ç†
- **ç«¯è·¯ç”±**ï¼šç«¯ç‚¹è·¯ç”±é…ç½®
- **ç«¯ä»£ç†ç®¡ç†**ï¼šç«¯ä»£ç†é…ç½®ç®¡ç†

#### 2.2.17 OpenWrtè®¾å¤‡ï¼ˆç‰¹è‰²åŠŸèƒ½ï¼‰
- **è®¾å¤‡ä»ªè¡¨ç›˜**ï¼šOpenWrt è®¾å¤‡æ€»è§ˆ
- **ç³»ç»ŸçŠ¶æ€**ï¼šCPUã€å†…å­˜ã€æ¸©åº¦ç›‘æ§
- **ç½‘ç»œè®¾ç½®**ï¼šæ¥å£ç®¡ç†ã€DHCP é…ç½®
- **IPç®¡ç†**ï¼šé™æ€ IP åˆ†é…ã€DHCP ç§Ÿçº¦
- **é…ç½®æ–‡ä»¶**ï¼šæŸ¥çœ‹å’Œç¼–è¾‘ç³»ç»Ÿé…ç½®
- **å‘½ä»¤æ‰§è¡Œ**ï¼šWeb ç•Œé¢æ‰§è¡Œ Shell å‘½ä»¤
- **é»‘åå•**ï¼šè®¿é—®é»‘åå•ç®¡ç†

#### 2.2.19 ç³»ç»Ÿé…ç½®
- **ä¼šè¯ç®¡ç†**ï¼šç”¨æˆ·ä¼šè¯ç®¡ç†
- **ç¼“å­˜ç®¡ç†**ï¼šç³»ç»Ÿç¼“å­˜ç®¡ç†
- **åˆå§‹åŒ–é…ç½®**ï¼šç³»ç»Ÿåˆå§‹åŒ–é…ç½®
- **ç­–ç•¥é…ç½®**ï¼šå®‰å…¨ç­–ç•¥é…ç½®
- **åº”ç”¨è®¾ç½®**ï¼šåº”ç”¨ç¨‹åºè®¾ç½®

---

## 3. æŠ€æœ¯æ¶æ„

### 3.1 ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·ç•Œé¢å±‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Web æ§åˆ¶å°â”‚ â”‚  REST API â”‚ â”‚  åè®®ä»¿çœŸ â”‚ â”‚  OpenWrt â”‚       â”‚
â”‚  â”‚(HTML/JS) â”‚ â”‚           â”‚ â”‚   ç•Œé¢   â”‚ â”‚  ç®¡ç†ç•Œé¢â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚            â”‚            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        åº”ç”¨æœåŠ¡å±‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  P2P ç½‘ç»œ    â”‚ â”‚  AI æŠ€èƒ½     â”‚ â”‚  å­˜å‚¨ç®¡ç†    â”‚         â”‚
â”‚  â”‚  ç®¡ç†æœåŠ¡    â”‚ â”‚  ç®¡ç†æœåŠ¡    â”‚ â”‚  æœåŠ¡        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ OpenWrt      â”‚ â”‚ åè®®ä»¿çœŸ     â”‚ â”‚ ç³»ç»Ÿç›‘æ§     â”‚         â”‚
â”‚  â”‚ é›†æˆæœåŠ¡     â”‚ â”‚ å¼•æ“         â”‚ â”‚ æœåŠ¡         â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        åŸºç¡€å¹³å°å±‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Ooder Agent SDK 0.7.3                  â”‚   â”‚
â”‚  â”‚  (P2P é€šä¿¡ã€æœåŠ¡å‘ç°ã€å‘½ä»¤å¤„ç†ã€åè®®é€‚é…)            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Spring Boot 2.7.0 + Java 8              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æŠ€æœ¯æ ˆ

| å±‚æ¬¡ | æŠ€æœ¯ | ç”¨é€” |
|------|------|------|
| **å‰ç«¯** | HTML5, CSS3, JavaScript | Web æ§åˆ¶å°ç•Œé¢ |
| **åç«¯** | Spring Boot 2.7.0, Java 8 | ä¸šåŠ¡é€»è¾‘å¤„ç† |
| **P2P ç½‘ç»œ** | Ooder Agent SDK 0.7.3 | åº•å±‚ç½‘ç»œé€šä¿¡ |
| **å­˜å‚¨** | æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ + VFS | æ•°æ®å’Œæ–‡ä»¶å­˜å‚¨ |
| **é…ç½®** | UCI (OpenWrt) | è·¯ç”±å™¨é…ç½®ç®¡ç† |

### 3.3 ä¸ Ooder Agent çš„å…³ç³»

ooderNexus åŸºäº Ooder Agent SDK æ„å»ºï¼Œä¸¤è€…çš„å…³ç³»å¦‚ä¸‹ï¼š

| å¯¹æ¯”é¡¹ | Ooder Agent | ooderNexus |
|--------|-------------|------------|
| **å®šä½** | P2P ç½‘ç»œåŸºç¡€åº“ | AI èƒ½åŠ›åˆ†å‘åº”ç”¨ |
| **åŠŸèƒ½** | ç½‘ç»œé€šä¿¡ã€æœåŠ¡å‘ç° | æŠ€èƒ½ç®¡ç†ã€Web æ§åˆ¶å° |
| **ç•Œé¢** | æ—  | å®Œæ•´çš„ Web ç•Œé¢ |
| **éƒ¨ç½²** | åµŒå…¥å¼é›†æˆ | ç‹¬ç«‹åº”ç”¨ |
| **ç”¨æˆ·** | å¼€å‘è€… | ç»ˆç«¯ç”¨æˆ· |

---

## 4. å¿«é€Ÿå¼€å§‹

### 4.1 ç¯å¢ƒè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šWindows / Linux / macOS / OpenWrt
- **Java**ï¼šJDK 8 æˆ–æ›´é«˜ï¼ˆOpenWrt é™¤å¤–ï¼‰
- **å†…å­˜**ï¼šæœ€ä½ 64MBï¼Œæ¨è 128MB+
- **å­˜å‚¨**ï¼šæœ€ä½ 100MBï¼Œæ¨è 256MB+

### 4.2 å®‰è£…æ–¹å¼

#### æ–¹å¼ä¸€ï¼šé€šç”¨å®‰è£…ï¼ˆæ¨èï¼‰

é€‚ç”¨äº Windowsã€Linuxã€macOSï¼š

```bash
# 1. ä¸‹è½½å®‰è£…åŒ…
wget https://github.com/oodercn/ooder-Nexus/releases/download/v2.0.0-openwrt-preview/ooder-nexus-2.0.0-openwrt-preview.tar.gz

# 2. è§£å‹
tar -xzf ooder-nexus-2.0.0-openwrt-preview.tar.gz
cd ooder-nexus-2.0.0-openwrt-preview

# 3. å¯åŠ¨
./bin/start.sh
```

è®¿é—®ï¼š`http://localhost:8091/console/index.html`

#### æ–¹å¼ä¸€ï¼ˆWindowsï¼‰ï¼šOpenWrt é¢„è§ˆç‰ˆ

é€‚ç”¨äº Windows ç”¨æˆ·æµ‹è¯• OpenWrt ç®¡ç†åŠŸèƒ½ï¼š

```bash
# 1. ä¸‹è½½ Windows OpenWrt é¢„è§ˆç‰ˆ
https://github.com/oodercn/ooder-Nexus/releases/download/v2.0.0-openwrt-preview/ooder-nexus-2.0.0-openwrt-preview-windows.zip

# 2. è§£å‹åˆ°ä»»æ„ç›®å½•

# 3. åŒå‡»è¿è¡Œ start.bat
```

è®¿é—®ï¼š`http://localhost:8081/console/index.html`

> **æ³¨æ„**ï¼šOpenWrt é¢„è§ˆç‰ˆä¸“æ³¨äº OpenWrt è·¯ç”±å™¨ç®¡ç†åŠŸèƒ½ï¼Œé»˜è®¤å…³é—­ Mock æ¨¡å¼ï¼Œéœ€è¦è¿æ¥çœŸå®çš„ OpenWrt è®¾å¤‡è¿›è¡Œæµ‹è¯•ã€‚

#### æ–¹å¼äºŒï¼šOpenWrt ä¸€é”®å®‰è£…

é€‚ç”¨äº OpenWrt è·¯ç”±å™¨ï¼š

```bash
# åœ¨è·¯ç”±å™¨ä¸Šæ‰§è¡Œ
wget -O /tmp/install.sh https://github.com/oodercn/ooder-Nexus/releases/download/v2.0.0-openwrt-preview/install-openwrt.sh
chmod +x /tmp/install.sh
/tmp/install.sh
```

è®¿é—®ï¼š`http://è·¯ç”±å™¨IP:8091/console/index.html`

#### æ–¹å¼ä¸‰ï¼šDocker å®‰è£…

```bash
docker run -d \
  --name ooder-nexus \
  -p 8091:8091 \
  -p 9876:9876 \
  -v ./data:/app/data \
  oodercn/ooder-nexus:2.0.0
```

### 4.3 é¦–æ¬¡ä½¿ç”¨

1. **è®¿é—® Web æ§åˆ¶å°**ï¼šæµè§ˆå™¨æ‰“å¼€ `http://IP:8091/console/index.html`
2. **æŸ¥çœ‹ä»ªè¡¨ç›˜**ï¼šäº†è§£ç³»ç»ŸçŠ¶æ€å’ŒåŸºæœ¬ä¿¡æ¯
3. **æ¢ç´¢åŠŸèƒ½èœå•**ï¼šç†Ÿæ‚‰å„ä¸ªåŠŸèƒ½æ¨¡å—
4. **åŠ å…¥ P2P ç½‘ç»œ**ï¼šé…ç½®ç½‘ç»œå‘ç°ï¼Œè¿æ¥å…¶ä»–èŠ‚ç‚¹

### 4.4 é…ç½®è¯´æ˜

#### 4.4.1 Mock æ¨¡å¼å¼€å…³ï¼ˆé‡è¦ï¼‰

ooderNexus æ”¯æŒä¸¤ç§è¿è¡Œæ¨¡å¼ï¼š

| æ¨¡å¼ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| **çœŸå®æ¨¡å¼** (é»˜è®¤) | è¿æ¥çœŸå®çš„ OpenWrt è·¯ç”±å™¨å’Œè®¾å¤‡ | ç”Ÿäº§ç¯å¢ƒã€çœŸå®è®¾å¤‡ç®¡ç† |
| **Mock æ¨¡å¼** | ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œæ— éœ€çœŸå®è®¾å¤‡ | å¼€å‘æµ‹è¯•ã€åŠŸèƒ½æ¼”ç¤ºã€ç¦»çº¿ä½“éªŒ |

**é…ç½®æ–‡ä»¶ä½ç½®**ï¼š`config/application.yml`

**ä¿®æ”¹ Mock å¼€å…³**ï¼š

```yaml
# Mock æ¨¡å¼å¼€å…³é…ç½®
# è®¾ç½®ä¸º true å¯ç”¨æ¨¡æ‹Ÿæ•°æ®æ¨¡å¼ï¼ˆæ— éœ€çœŸå®è®¾å¤‡å³å¯æµ‹è¯•åŠŸèƒ½ï¼‰
# è®¾ç½®ä¸º false å¯ç”¨çœŸå®è®¾å¤‡æ¨¡å¼ï¼ˆéœ€è¦è¿æ¥çœŸå®çš„ OpenWrt è·¯ç”±å™¨ï¼‰
mock:
  enabled: false  # é»˜è®¤å…³é—­ï¼Œä½¿ç”¨çœŸå®æ¨¡å¼
```

**å¿«é€Ÿåˆ‡æ¢**ï¼š

```bash
# å¯ç”¨ Mock æ¨¡å¼ï¼ˆå¼€å‘æµ‹è¯•ï¼‰
sed -i 's/mock:\s*enabled:\s*false/mock:\n  enabled: true/' config/application.yml

# ç¦ç”¨ Mock æ¨¡å¼ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
sed -i 's/mock:\s*enabled:\s*true/mock:\n  enabled: false/' config/application.yml
```

**æ³¨æ„äº‹é¡¹**ï¼š
- ğŸš¨ **ç”Ÿäº§ç¯å¢ƒ**ï¼šåŠ¡å¿…è®¾ç½®ä¸º `mock.enabled: false`ï¼Œç¡®ä¿ç®¡ç†çœŸå®è®¾å¤‡
- ğŸ§ª **å¼€å‘æµ‹è¯•**ï¼šå¯ä»¥è®¾ç½®ä¸º `mock.enabled: true`ï¼Œæ— éœ€çœŸå®è®¾å¤‡å³å¯æµ‹è¯•åŠŸèƒ½
- ğŸ”„ **ä¿®æ”¹åé‡å¯**ï¼šä¿®æ”¹é…ç½®åéœ€è¦é‡å¯æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆ
- ğŸ“Š **æ•°æ®éš”ç¦»**ï¼šMock æ¨¡å¼å’ŒçœŸå®æ¨¡å¼çš„æ•°æ®æ˜¯éš”ç¦»çš„ï¼Œåˆ‡æ¢æ¨¡å¼ä¸ä¼šå½±å“å¦ä¸€ç§æ¨¡å¼çš„æ•°æ®

#### 4.4.2 å…¶ä»–å¸¸ç”¨é…ç½®

```yaml
server:
  port: 8081  # Web æœåŠ¡ç«¯å£

ooder:
  agent:
    id: "mcp-agent-001"     # Agent ID
    name: "Nexus Agent"      # Agent åç§°
    type: "mcp"              # Agent ç±»å‹: mcp/routeAgent/nexus
  udp:
    port: 9876               # UDP é€šä¿¡ç«¯å£
    host: 0.0.0.0            # ç›‘å¬åœ°å€
```

### 4.5 æ•°æ®å­˜å‚¨è¯´æ˜

ooderNexus ä½¿ç”¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨æ•°æ®ï¼Œæ‰€æœ‰æ•°æ®é»˜è®¤ä¿å­˜åœ¨ `./storage/` ç›®å½•ï¼ˆOpenWrt ä¸º `/opt/ooder-nexus/storage/`ï¼‰ã€‚

#### 4.5.1 å­˜å‚¨ç›®å½•ç»“æ„

```
storage/                          # ä¸»å­˜å‚¨ç›®å½•
â”œâ”€â”€ agents/                       # Agent èŠ‚ç‚¹ä¿¡æ¯
â”‚   â””â”€â”€ end-agents.json          # ç»ˆç«¯ä»£ç†åˆ—è¡¨
â”œâ”€â”€ devices/                      # è®¾å¤‡èµ„äº§ç®¡ç†
â”‚   â””â”€â”€ device-assets.json       # è®¾å¤‡èµ„äº§æ•°æ®
â”œâ”€â”€ network/                      # ç½‘ç»œé…ç½®æ•°æ®
â”‚   â”œâ”€â”€ ip-allocations.json      # IP åœ°å€åˆ†é…è®°å½•
â”‚   â”œâ”€â”€ ip-pool.json             # IP åœ°å€æ± é…ç½®
â”‚   â””â”€â”€ traffic-stats.json       # æµé‡ç»Ÿè®¡ä¿¡æ¯
â”œâ”€â”€ sdk/                          # Ooder SDK æ ¸å¿ƒæ•°æ®
â”‚   â”œâ”€â”€ capabilities/            # èƒ½åŠ›å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ endagent-discovery.json
â”‚   â”‚   â”œâ”€â”€ link-management.json
â”‚   â”‚   â”œâ”€â”€ network-topology.json
â”‚   â”‚   â””â”€â”€ route-discovery.json
â”‚   â”œâ”€â”€ devices/                 # è®¾å¤‡å®ä¾‹æ•°æ®
â”‚   â”‚   â”œâ”€â”€ device-001.json
â”‚   â”‚   â”œâ”€â”€ device-002.json
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ endagents/               # ç»ˆç«¯ä»£ç†è¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ endagent-001.json
â”‚   â”‚   â”œâ”€â”€ endagent-002.json
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ routes/                  # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ route-001.json
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ system_status/           # ç³»ç»ŸçŠ¶æ€
â”‚       â””â”€â”€ main.json
â”œâ”€â”€ sync/                         # åŒæ­¥ä»»åŠ¡æ•°æ®
â”‚   â””â”€â”€ sync-tasks.json          # æŠ€èƒ½åŒæ­¥ä»»åŠ¡
â””â”€â”€ tasks/                        # æ•°æ®æå–ä»»åŠ¡
    â”œâ”€â”€ extract-tasks.json
    â””â”€â”€ list-extract-tasks.json
```

#### 4.5.2 Ooder SDK 0.7.3 å­˜å‚¨æ¶æ„

ooderNexus åŸºäº **Ooder Agent SDK 0.7.3** æ„å»ºï¼ŒSDK é‡‡ç”¨ **VFSï¼ˆVirtual File Systemï¼Œè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰+ JSON å­˜å‚¨** çš„æ··åˆæ¶æ„ã€‚

##### VFS å­˜å‚¨ç­–ç•¥

**ä»€ä¹ˆæ˜¯ VFSï¼Ÿ**

VFS æ˜¯ Agent SDK çš„æ ¸å¿ƒå­˜å‚¨æŠ½è±¡å±‚ï¼Œæä¾›ç»Ÿä¸€çš„æ–‡ä»¶ç®¡ç†æ¥å£ï¼Œå°†ç‰©ç†å­˜å‚¨ä¸é€»è¾‘å­˜å‚¨åˆ†ç¦»ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      åº”ç”¨å±‚ (ooderNexus)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ æ–‡ä»¶ç®¡ç†  â”‚ â”‚ ç‰ˆæœ¬æ§åˆ¶  â”‚ â”‚ æ–‡ä»¶åˆ†äº«  â”‚ â”‚ å­˜å‚¨ç®¡ç†  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚            â”‚            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   VFS æŠ½è±¡å±‚    â”‚
                    â”‚ (LocalVFSManager)â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ  â”‚   â”‚  å†…å­˜ç¼“å­˜     â”‚   â”‚  ç½‘ç»œå­˜å‚¨     â”‚
â”‚  (storage/)   â”‚   â”‚  (Hash Cache) â”‚   â”‚  (P2P Sync)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**VFS æ ¸å¿ƒç»„ä»¶**ï¼š

| ç»„ä»¶ | ç±»å | åŠŸèƒ½ |
|------|------|------|
| **VFS ç®¡ç†å™¨** | `LocalVFSManager` | å•ä¾‹æ¨¡å¼ç®¡ç†æ‰€æœ‰æ–‡ä»¶æ“ä½œ |
| **æ–‡ä»¶å¯¹è±¡** | `LocalFileObject` | åŸºäº MD5 å“ˆå¸Œçš„æ–‡ä»¶å­˜å‚¨ |
| **æ–‡ä»¶ä¿¡æ¯** | `LocalFile` | æ–‡ä»¶å…ƒæ•°æ®ç®¡ç† |
| **æ–‡ä»¶å¤¹** | `LocalFolder` | ç›®å½•ç»“æ„ç®¡ç† |
| **ç‰ˆæœ¬æ§åˆ¶** | `LocalFileVersion` | æ–‡ä»¶ç‰ˆæœ¬ç®¡ç† |

**VFS å­˜å‚¨ç‰¹ç‚¹**ï¼š

1. **å“ˆå¸Œå»é‡å­˜å‚¨**
   - æ–‡ä»¶å†…å®¹ä½¿ç”¨ **MD5 å“ˆå¸Œ** ä½œä¸ºå”¯ä¸€æ ‡è¯†
   - ç›¸åŒå†…å®¹åªå­˜å‚¨ä¸€ä»½ï¼ŒèŠ‚çœç©ºé—´
   - æ–‡ä»¶è·¯å¾„ï¼š`storage/data/cache/{hash}`

2. **å†™æ—¶å¤åˆ¶ï¼ˆCopy-on-Writeï¼‰**
   ```java
   // æ–‡ä»¶ä¿®æ”¹æ—¶åˆ›å»ºæ–°ç‰ˆæœ¬ï¼Œä¸è¦†ç›–åŸæ–‡ä»¶
   LocalFileVersion newVersion = file.createFileVersion();
   newVersion.setFileObjectId(hash);
   ```

3. **åŸå­æ“ä½œä¿è¯**
   - ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶ + é‡å‘½åæœºåˆ¶
   - é˜²æ­¢å†™å…¥è¿‡ç¨‹ä¸­æ–­å¯¼è‡´æ•°æ®æŸå
   - ç¤ºä¾‹æµç¨‹ï¼š
     ```
     1. å†™å…¥ä¸´æ—¶æ–‡ä»¶: file.tmp
     2. è®¡ç®— MD5 å“ˆå¸Œ
     3. é‡å‘½åä¸º: {hash}
     4. æ›´æ–°ç´¢å¼•
     ```

4. **å†…å­˜ç¼“å­˜åŠ é€Ÿ**
   - çƒ­ç‚¹æ–‡ä»¶ç¼“å­˜åˆ°å†…å­˜
   - å‡å°‘ç£ç›˜ I/O æ“ä½œ
   - ç¼“å­˜ç›®å½•ï¼š`storage/data/cache/`

##### Agent SDK æ•°æ®å­˜å‚¨

**å­˜å‚¨æœºåˆ¶**ï¼š

Agent SDK ä½¿ç”¨ **JSON æ–‡ä»¶å­˜å‚¨** ç®¡ç†ç»“æ„åŒ–æ•°æ®ï¼Œä¸ VFS æ–‡ä»¶å­˜å‚¨å½¢æˆäº’è¡¥ï¼š

| å­˜å‚¨ç±»å‹ | æŠ€æœ¯ | é€‚ç”¨åœºæ™¯ |
|---------|------|----------|
| **VFS å­˜å‚¨** | MD5 å“ˆå¸Œ + æ–‡ä»¶ç³»ç»Ÿ | å¤§æ–‡ä»¶ã€äºŒè¿›åˆ¶æ•°æ®ã€ç‰ˆæœ¬æ§åˆ¶ |
| **JSON å­˜å‚¨** | ç»“æ„åŒ– JSON æ–‡ä»¶ | é…ç½®æ•°æ®ã€å…ƒæ•°æ®ã€çŠ¶æ€ä¿¡æ¯ |

**æ•°æ®åˆ†ç±»ä¸å­˜å‚¨ä½ç½®**ï¼š

| æ•°æ®ç±»å‹ | å­˜å‚¨ä½ç½® | æ ¼å¼ | è¯´æ˜ |
|---------|----------|------|------|
| **ç½‘ç»œèƒ½åŠ›** | `sdk/capabilities/` | JSON | P2P ç½‘ç»œèƒ½åŠ›å®šä¹‰ |
| **è®¾å¤‡ä¿¡æ¯** | `sdk/devices/` | JSON | æ¯ä¸ªè®¾å¤‡ç‹¬ç«‹æ–‡ä»¶ |
| **ç»ˆç«¯ä»£ç†** | `sdk/endagents/` | JSON | ä»£ç†èŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯ |
| **è·¯ç”±é…ç½®** | `sdk/routes/` | JSON | ç½‘ç»œè·¯ç”±è§„åˆ™ |
| **ç³»ç»ŸçŠ¶æ€** | `sdk/system_status/` | JSON | è¿è¡Œæ—¶çŠ¶æ€ |
| **æ–‡ä»¶å†…å®¹** | `data/cache/{hash}` | Binary | VFS å“ˆå¸Œå­˜å‚¨ |
| **ç½‘ç»œæ•°æ®** | `network/` | JSON | IPã€æµé‡ç»Ÿè®¡ |
| **ä»»åŠ¡æ•°æ®** | `tasks/`, `sync/` | JSON | å¼‚æ­¥ä»»åŠ¡ |

**æ•°æ®å…³ç³»ä¸åŒæ­¥**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Agent SDK æ•°æ®å…³ç³»                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  ç½‘ç»œèƒ½åŠ›    â”‚â”€â”€â”€â”€â–¶â”‚   è®¾å¤‡å®ä¾‹   â”‚â”€â”€â”€â”€â–¶â”‚  ç»ˆç«¯ä»£ç†   â”‚  â”‚
â”‚   â”‚capabilities â”‚     â”‚   devices   â”‚     â”‚  endagents  â”‚  â”‚
â”‚   â”‚  (JSON)     â”‚     â”‚   (JSON)    â”‚     â”‚   (JSON)    â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚                   â”‚                   â”‚         â”‚
â”‚          â”‚                   â–¼                   â”‚         â”‚
â”‚          â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚         â”‚
â”‚          â”‚            â”‚  VFS æ–‡ä»¶   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚          â”‚            â”‚  (Hash)     â”‚                      â”‚
â”‚          â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚          â”‚                                                   â”‚
â”‚          â–¼                   â–¼                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚   â”‚   è·¯ç”±é…ç½®   â”‚â—€â”€â”€â”€â”€â”‚   ç³»ç»ŸçŠ¶æ€   â”‚                      â”‚
â”‚   â”‚   routes    â”‚     â”‚ system_statusâ”‚                      â”‚
â”‚   â”‚   (JSON)    â”‚     â”‚   (JSON)    â”‚                      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                             â”‚
â”‚   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                         P2P åŒæ­¥å±‚                          â”‚
â”‚   é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ Agent æ•°æ®ä¼šè‡ªåŠ¨åŒæ­¥åˆ°ç½‘ç»œä¸­çš„å…¶ä»–èŠ‚ç‚¹      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ•°æ®åŒæ­¥ç­–ç•¥**ï¼š

Agent SDK 0.7.3 å†…ç½® **P2P æ•°æ®åŒæ­¥æœºåˆ¶**ï¼š

1. **è‡ªåŠ¨åŒæ­¥èŒƒå›´**
   - âœ… `sdk/` ç›®å½•ä¸‹çš„æ‰€æœ‰ JSON æ•°æ®
   - âœ… ç½‘ç»œæ‹“æ‰‘ä¿¡æ¯
   - âœ… è®¾å¤‡å‘ç°ä¿¡æ¯
   - âœ… è·¯ç”±é…ç½®ä¿¡æ¯
   - âŒ VFS æ–‡ä»¶å†…å®¹ï¼ˆå¤§æ–‡ä»¶æŒ‰éœ€åŒæ­¥ï¼‰
   - âŒ æ—¥å¿—æ–‡ä»¶

2. **åŒæ­¥è§¦å‘æ¡ä»¶**
   - èŠ‚ç‚¹åŠ å…¥ç½‘ç»œæ—¶å…¨é‡åŒæ­¥
   - æ•°æ®å˜æ›´æ—¶å¢é‡åŒæ­¥
   - å®šæ—¶å¿ƒè·³æ£€æµ‹å·®å¼‚åŒæ­¥

3. **å†²çªè§£å†³**
   - æ—¶é—´æˆ³ä¼˜å…ˆï¼š`_updatedAt` å­—æ®µè¾ƒæ–°çš„èƒœå‡º
   - æ‰‹åŠ¨åˆå¹¶ï¼šå†²çªæ—¶ä¿ç•™å¤šä¸ªç‰ˆæœ¬

**å­˜å‚¨ä¼˜åŠ¿**ï¼š

| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| âœ… **æ— éœ€æ•°æ®åº“** | é›¶ä¾èµ–ï¼Œå¼€ç®±å³ç”¨ |
| âœ… **å»é‡å­˜å‚¨** | MD5 å“ˆå¸Œé¿å…é‡å¤æ–‡ä»¶ |
| âœ… **ç‰ˆæœ¬æ§åˆ¶** | è‡ªåŠ¨æ–‡ä»¶ç‰ˆæœ¬ç®¡ç† |
| âœ… **P2P åŒæ­¥** | æ•°æ®è‡ªåŠ¨åŒæ­¥åˆ°ç½‘ç»œèŠ‚ç‚¹ |
| âœ… **æ˜“äºå¤‡ä»½** | ç›´æ¥å¤åˆ¶ç›®å½•å³å¯ |
| âœ… **äººç±»å¯è¯»** | JSON æ ¼å¼ä¾¿äºè°ƒè¯• |

**æ³¨æ„äº‹é¡¹**ï¼š

| æ³¨æ„ç‚¹ | è¯´æ˜ |
|--------|------|
| âš ï¸ **ä¸è¦æ‰‹åŠ¨ä¿®æ”¹** | è¿è¡Œæ—¶ä¸è¦ç¼–è¾‘ JSON æ–‡ä»¶ |
| âš ï¸ **å¤‡ä»½ storage/** | å¿…é¡»å¤‡ä»½æ•´ä¸ª storage ç›®å½• |
| âš ï¸ **æƒé™è®¾ç½®** | ç¡®ä¿ç¨‹åºæœ‰è¯»å†™æƒé™ |
| âš ï¸ **å­˜å‚¨ç©ºé—´** | ç›‘æ§ç£ç›˜ç©ºé—´ï¼Œé¿å…æ»¡ç›˜ |
| âš ï¸ **åŒæ­¥å»¶è¿Ÿ** | P2P åŒæ­¥æœ‰å»¶è¿Ÿï¼Œéå®æ—¶ |

#### 4.5.3 æ•°æ®å¤‡ä»½ä¸æ¢å¤

**âš ï¸ é‡è¦æç¤º**ï¼šå¤‡ä»½æ—¶å¿…é¡»åŒ…å«å®Œæ•´çš„ `storage/` ç›®å½•ï¼Œå› ä¸º VFS æ–‡ä»¶å’Œ JSON æ•°æ®æ˜¯ç›¸äº’å…³è”çš„ã€‚

**å¤‡ä»½æ•°æ®**ï¼š

```bash
# æ–¹å¼ 1ï¼šç›´æ¥å¤åˆ¶ç›®å½•ï¼ˆæ¨èï¼Œä¿ç•™æ–‡ä»¶æƒé™ï¼‰
cp -rp storage/ storage-backup-$(date +%Y%m%d)/

# æ–¹å¼ 2ï¼šæ‰“åŒ…å‹ç¼©ï¼ˆé€‚åˆä¼ è¾“å’Œé•¿æœŸä¿å­˜ï¼‰
tar -czpf ooder-nexus-backup-$(date +%Y%m%d).tar.gz storage/ config/

# æ–¹å¼ 3ï¼šä½¿ç”¨ rsyncï¼ˆå¢é‡å¤‡ä»½ï¼Œé€‚åˆè‡ªåŠ¨åŒ–ï¼‰
rsync -avz --delete storage/ backup-server:/backups/ooder-nexus/storage/
rsync -avz --delete config/ backup-server:/backups/ooder-nexus/config/
```

**å¤‡ä»½å†…å®¹è¯´æ˜**ï¼š

| ç›®å½• | å¿…é¡»å¤‡ä»½ | è¯´æ˜ |
|------|----------|------|
| `storage/sdk/` | âœ… å¿…é¡» | Agent SDK æ ¸å¿ƒæ•°æ®ï¼ˆç½‘ç»œã€è®¾å¤‡ã€è·¯ç”±ï¼‰ |
| `storage/data/` | âœ… å¿…é¡» | VFS æ–‡ä»¶å­˜å‚¨ï¼ˆå“ˆå¸Œæ–‡ä»¶ã€ç¼“å­˜ï¼‰ |
| `storage/network/` | âœ… å¿…é¡» | ç½‘ç»œé…ç½®å’Œæµé‡ç»Ÿè®¡ |
| `storage/tasks/` | âœ… å¿…é¡» | ä»»åŠ¡æ•°æ® |
| `config/` | âš ï¸ å»ºè®® | åº”ç”¨é…ç½®æ–‡ä»¶ |
| `logs/` | âŒ ä¸éœ€è¦ | æ—¥å¿—æ–‡ä»¶å¯éšæ—¶ç”Ÿæˆ |

**æ¢å¤æ•°æ®**ï¼š

```bash
# 1. åœæ­¢æœåŠ¡
/etc/init.d/ooder-nexus stop  # OpenWrt
# æˆ–
./bin/stop.sh                 # é€šç”¨å®‰è£…

# 2. å¤‡ä»½å½“å‰æ•°æ®ï¼ˆä»¥é˜²ä¸‡ä¸€ï¼‰
mv storage/ storage-old-$(date +%Y%m%d)/

# 3. æ¢å¤æ•°æ®
tar -xzpf ooder-nexus-backup-20240101.tar.gz

# 4. æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
ls -la storage/sdk/           # æ£€æŸ¥ JSON æ–‡ä»¶
ls -la storage/data/cache/    # æ£€æŸ¥ VFS ç¼“å­˜

# 5. å¯åŠ¨æœåŠ¡
/etc/init.d/ooder-nexus start

# 6. éªŒè¯æ¢å¤
# ç™»å½• Web æ§åˆ¶å°ï¼Œæ£€æŸ¥æ•°æ®æ˜¯å¦å®Œæ•´
```

**VFS æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥**ï¼š

å¦‚æœæ€€ç–‘ VFS æ•°æ®æŸåï¼Œå¯ä»¥è¿è¡Œä¸€è‡´æ€§æ£€æŸ¥ï¼š

```bash
# æ£€æŸ¥æ‰€æœ‰å“ˆå¸Œæ–‡ä»¶æ˜¯å¦å­˜åœ¨
find storage/data/cache/ -type f | while read file; do
  hash=$(basename "$file")
  echo "æ£€æŸ¥: $hash"
done

# æ£€æŸ¥ JSON ç´¢å¼•ä¸­çš„æ–‡ä»¶å¼•ç”¨
# å¦‚æœç´¢å¼•ä¸­å¼•ç”¨çš„å“ˆå¸Œæ–‡ä»¶ä¸å­˜åœ¨ï¼Œéœ€è¦æ¸…ç†æ— æ•ˆç´¢å¼•
```

**è‡ªåŠ¨å¤‡ä»½è„šæœ¬ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰**ï¼š

```bash
#!/bin/sh
# ä¿å­˜ä¸º /opt/ooder-nexus/backup.sh
# ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨å¤‡ä»½è„šæœ¬

set -e

INSTALL_DIR="/opt/ooder-nexus"
BACKUP_DIR="/mnt/usb/backups"
DATE=$(date +%Y%m%d_%H%M%S)
KEEP_DAYS=30
LOG_FILE="/var/log/ooder-nexus-backup.log"

# æ—¥å¿—å‡½æ•°
log() {
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] $1" | tee -a $LOG_FILE
}

log "å¼€å§‹å¤‡ä»½..."

# æ£€æŸ¥ç›®å½•
if [ ! -d "$INSTALL_DIR/storage" ]; then
    log "é”™è¯¯: storage ç›®å½•ä¸å­˜åœ¨"
    exit 1
fi

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR

# åˆ›å»ºä¸´æ—¶å¤‡ä»½ç›®å½•
TEMP_DIR=$(mktemp -d)

# å¤åˆ¶æ•°æ®ï¼ˆä¿æŒæƒé™ï¼‰
log "å¤åˆ¶ storage ç›®å½•..."
cp -rp $INSTALL_DIR/storage $TEMP_DIR/

log "å¤åˆ¶ config ç›®å½•..."
cp -rp $INSTALL_DIR/config $TEMP_DIR/

# åˆ›å»ºå¤‡ä»½ä¿¡æ¯æ–‡ä»¶
cat > $TEMP_DIR/backup-info.txt << EOF
å¤‡ä»½æ—¶é—´: $(date)
å¤‡ä»½ç‰ˆæœ¬: $(cat $INSTALL_DIR/version 2>/dev/null || echo "unknown")
ä¸»æœºå: $(hostname)
EOF

# æ‰“åŒ…å‹ç¼©
log "åˆ›å»ºå‹ç¼©åŒ…..."
tar -czpf ${BACKUP_DIR}/ooder-nexus-backup-${DATE}.tar.gz -C $TEMP_DIR .

# æ¸…ç†ä¸´æ—¶ç›®å½•
rm -rf $TEMP_DIR

# åˆ é™¤æ—§å¤‡ä»½
log "æ¸…ç†æ—§å¤‡ä»½..."
find ${BACKUP_DIR} -name "ooder-nexus-backup-*.tar.gz" -mtime +${KEEP_DAYS} -delete

# æ£€æŸ¥å¤‡ä»½æ–‡ä»¶
BACKUP_SIZE=$(du -h ${BACKUP_DIR}/ooder-nexus-backup-${DATE}.tar.gz | cut -f1)
log "å¤‡ä»½å®Œæˆ: ${BACKUP_DIR}/ooder-nexus-backup-${DATE}.tar.gz (å¤§å°: $BACKUP_SIZE)"

# å¯é€‰ï¼šä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨
# scp ${BACKUP_DIR}/ooder-nexus-backup-${DATE}.tar.gz user@backup-server:/backups/
```

**æ·»åŠ åˆ°å®šæ—¶ä»»åŠ¡**ï¼š

```bash
# ç¼–è¾‘ crontab
crontab -e

# æ¯å¤©å‡Œæ™¨ 3 ç‚¹æ‰§è¡Œå¤‡ä»½
0 3 * * * /opt/ooder-nexus/backup.sh

# æ¯å‘¨æ—¥å‡Œæ™¨ 3 ç‚¹æ‰§è¡Œå¤‡ä»½å¹¶ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨
0 3 * * 0 /opt/ooder-nexus/backup.sh && scp /mnt/usb/backups/ooder-nexus-backup-$(date +\%Y\%m\%d)*.tar.gz user@backup-server:/backups/
```

**P2P ç½‘ç»œæ•°æ®æ¢å¤æ³¨æ„äº‹é¡¹**ï¼š

å½“ä»å¤‡ä»½æ¢å¤æ•°æ®åï¼ŒèŠ‚ç‚¹é‡æ–°åŠ å…¥ P2P ç½‘ç»œæ—¶ï¼š

1. **æ•°æ®åŒæ­¥**ï¼šèŠ‚ç‚¹ä¼šè‡ªåŠ¨ä¸ç½‘ç»œä¸­çš„å…¶ä»–èŠ‚ç‚¹åŒæ­¥æ•°æ®
2. **å†²çªå¤„ç†**ï¼šå¦‚æœå¤‡ä»½æ•°æ®è¾ƒæ—§ï¼Œå¯èƒ½ä¼šè¢«ç½‘ç»œä¸­çš„æ–°æ•°æ®è¦†ç›–
3. **å»ºè®®æ“ä½œ**ï¼š
   - æ¢å¤åå…ˆæ–­å¼€ç½‘ç»œè¿æ¥
   - æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
   - ç¡®è®¤æ— è¯¯åå†è¿æ¥ç½‘ç»œ

```bash
# æ¢å¤åæ–­å¼€ç½‘ç»œåŒæ­¥ï¼ˆä¸´æ—¶ï¼‰
# ç¼–è¾‘é…ç½®ï¼Œç¦ç”¨è‡ªåŠ¨å‘ç°
uci set ooder-nexus.network.auto_discovery=0
uci commit ooder-nexus

# å¯åŠ¨æœåŠ¡æ£€æŸ¥æ•°æ®
/etc/init.d/ooder-nexus start

# ç¡®è®¤æ•°æ®å®Œæ•´åï¼Œé‡æ–°å¯ç”¨ç½‘ç»œ
uci set ooder-nexus.network.auto_discovery=1
uci commit ooder-nexus
/etc/init.d/ooder-nexus restart
```

---

## 5. éƒ¨ç½²æŒ‡å—

### 5.1 éƒ¨ç½²åœºæ™¯é€‰æ‹©

| åœºæ™¯ | æ¨èè®¾å¤‡ | éƒ¨ç½²æ–¹å¼ | Agent è§’è‰² | ç‰¹ç‚¹ |
|------|----------|----------|------------|------|
| ä¸ªäººä½¿ç”¨ | PC / NAS | é€šç”¨å®‰è£… | `mcp` / `nexus` | åŠŸèƒ½å®Œæ•´ï¼Œæ˜“äºç®¡ç† |
| å®¶åº­ç½‘ç»œ | OpenWrt è·¯ç”±å™¨ | ä¸€é”®å®‰è£… | **`routeAgent`** â­ | 24å°æ—¶è¿è¡Œï¼Œç½‘ç»œä¸­æ¢ï¼Œè‡ªåŠ¨è·¯ç”± |
| ä¼ä¸šéƒ¨ç½² | æœåŠ¡å™¨ | Docker | `mcp` / `routeAgent` | é«˜å¯ç”¨ï¼Œæ˜“æ‰©å±• |
| è¾¹ç¼˜èŠ‚ç‚¹ | æ ‘è“æ´¾ | é€šç”¨å®‰è£… | `mcp` / `nexus` | ä½åŠŸè€—ï¼Œåˆ†å¸ƒå¼ |

**Agent è§’è‰²è¯´æ˜**ï¼š
- **`routeAgent`**ï¼šè·¯ç”±ä»£ç†ï¼Œå…·å¤‡ç½‘ç»œè·¯ç”±èƒ½åŠ›ï¼Œé€‚åˆéƒ¨ç½²åœ¨è·¯ç”±å™¨/ç½‘å…³è®¾å¤‡ä¸Š
- **`mcp`**ï¼šæ ‡å‡† MCP èŠ‚ç‚¹ï¼Œæ™®é€šç»ˆç«¯è®¾å¤‡è§’è‰²
- **`nexus`**ï¼šåŸºç¡€èŠ‚ç‚¹ï¼Œæœ€å°åŠŸèƒ½é›†

**OpenWrt è‡ªåŠ¨è®¾ç½®**ï¼šå½“ ooderNexus éƒ¨ç½²åœ¨ OpenWrt è®¾å¤‡ä¸Šæ—¶ï¼Œç³»ç»Ÿä¼š**è‡ªåŠ¨**å°† Agent è§’è‰²è®¾ç½®ä¸º `routeAgent`ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚

### 5.2 OpenWrt éƒ¨ç½²è¯¦è§£

OpenWrt æ˜¯ ooderNexus çš„å…¸å‹éƒ¨ç½²åœºæ™¯ï¼Œæä¾›å®Œæ•´çš„é›†æˆèƒ½åŠ›ã€‚

#### 5.2.1 ä¸ºä»€ä¹ˆé€‰æ‹© OpenWrtï¼Ÿ

- âœ… è·¯ç”±å™¨ 24 å°æ—¶è¿è¡Œï¼Œæ— éœ€é¢å¤–è®¾å¤‡
- âœ… ç½‘ç»œä¸­æ¢ä½ç½®ï¼Œä¾¿äºç®¡ç†æ‰€æœ‰è®¾å¤‡
- âœ… åŸç”Ÿé›†æˆï¼Œæ·±åº¦ç®¡ç†è·¯ç”±å™¨åŠŸèƒ½
- âœ… ä½åŠŸè€—ï¼Œé€‚åˆé•¿æœŸè¿è¡Œ

#### 5.2.2 æ”¯æŒçš„è®¾å¤‡

| è®¾å¤‡ç±»å‹ | ä»£è¡¨å‹å· | æ€§èƒ½ | éš¾åº¦ |
|----------|----------|------|------|
| x86 è½¯è·¯ç”± | J4125/N5105 | â­â­â­â­â­ | â­ |
| ARM å¼€å‘æ¿ | æ ‘è“æ´¾ 4 | â­â­â­â­ | â­â­ |
| MIPS è·¯ç”±å™¨ | çº¢ç±³ AC2100 | â­â­ | â­â­â­ |

#### 5.2.3 å®‰è£…æ­¥éª¤

è¯¦è§ [OpenWrt å®‰è£…æŒ‡å—](#6-openwrt-å®‰è£…æŒ‡å—)

---

## 6. OpenWrt å®‰è£…æŒ‡å—

> âš ï¸ **é‡è¦æç¤º**ï¼šæœ¬ç« èŠ‚ä¸“ä¸º OpenWrt ç”¨æˆ·ç¼–å†™ï¼ŒåŒ…å«è¯¦ç»†çš„é›†æˆè¯´æ˜å’Œæ“ä½œæ­¥éª¤ã€‚

### 6.1 é›†æˆæ¦‚è¿°

#### 6.1.1 ä»€ä¹ˆæ˜¯ OpenWrt é›†æˆï¼Ÿ

ooderNexus å®‰è£…åˆ° OpenWrt è·¯ç”±å™¨åï¼Œå¯ä»¥é€šè¿‡ Web ç•Œé¢ç›´æ¥ç®¡ç†è·¯ç”±å™¨çš„å„ç§åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š

- æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€ï¼ˆCPUã€å†…å­˜ã€æ¸©åº¦ï¼‰
- ç®¡ç†ç½‘ç»œé…ç½®ï¼ˆæ¥å£ã€DHCPã€é˜²ç«å¢™ï¼‰
- æ‰§è¡Œç³»ç»Ÿå‘½ä»¤
- ç›‘æ§ç½‘ç»œæµé‡

#### 6.1.2 OpenWrt è‡ªåŠ¨è§’è‰²è®¾ç½®ï¼ˆé‡è¦ï¼‰

**è‡ªåŠ¨æ£€æµ‹æœºåˆ¶**ï¼š

ooderNexus å¯åŠ¨æ—¶ä¼š**è‡ªåŠ¨æ£€æµ‹**å½“å‰ç³»ç»Ÿæ˜¯å¦ä¸º OpenWrtï¼š

| æ£€æµ‹æ–¹å¼ | æ£€æµ‹ç›®æ ‡ | è¯´æ˜ |
|---------|---------|------|
| æ–‡ä»¶æ£€æµ‹ | `/etc/openwrt_release` | OpenWrt ç‰ˆæœ¬æ–‡ä»¶ |
| å†…å®¹æ£€æµ‹ | `/etc/os-release` | ç³»ç»Ÿæ ‡è¯†æ–‡ä»¶ |
| å‘½ä»¤æ£€æµ‹ | `/bin/opkg` æˆ– `/usr/bin/opkg` | åŒ…ç®¡ç†å™¨ |
| å‘½ä»¤æ£€æµ‹ | `/bin/uci` æˆ– `/usr/bin/uci` | é…ç½®ç®¡ç†å·¥å…· |

**è‡ªåŠ¨è§’è‰²åˆ‡æ¢**ï¼š

å½“æ£€æµ‹åˆ° OpenWrt ç³»ç»Ÿæ—¶ï¼ŒooderNexus ä¼š**è‡ªåŠ¨å°† Agent è§’è‰²è®¾ç½®ä¸º `routeAgent`**ï¼š

```
å¯åŠ¨æ—¥å¿—ç¤ºä¾‹ï¼š
[INFO] æ£€æµ‹åˆ° OpenWrt ç³»ç»Ÿ: /etc/openwrt_release æ–‡ä»¶å­˜åœ¨
[INFO] OpenWrt ç³»ç»Ÿæ£€æµ‹åˆ°ï¼Œè‡ªåŠ¨å°† Agent è§’è‰²è®¾ç½®ä¸º 'routeAgent'
[INFO] åŸå§‹é…ç½® agent.type: mcpï¼Œå·²è¦†ç›–ä¸º: routeAgent
[INFO] Agent é…ç½®å®Œæˆ: id=mcp-agent-001, name=Independent MCP Agent, type=routeAgent
```

**ä¸ºä»€ä¹ˆéœ€è¦è®¾ç½®ä¸º routeAgentï¼Ÿ**

| è§’è‰² | é€‚ç”¨åœºæ™¯ | åŠŸèƒ½ç‰¹ç‚¹ |
|------|----------|----------|
| `routeAgent` | **è·¯ç”±å™¨/ç½‘å…³è®¾å¤‡** | å…·å¤‡è·¯ç”±èƒ½åŠ›ï¼Œå¯ç®¡ç†ç½‘ç»œæ‹“æ‰‘ï¼Œè½¬å‘æ•°æ®åŒ… |
| `mcp` | æ™®é€šç»ˆç«¯è®¾å¤‡ | æ ‡å‡† MCP åè®®æ”¯æŒï¼Œä½œä¸ºç»ˆç«¯èŠ‚ç‚¹æ¥å…¥ç½‘ç»œ |
| `nexus` | ç‹¬ç«‹èŠ‚ç‚¹ | åŸºç¡€ P2P åŠŸèƒ½ï¼Œä¸å‚ä¸è·¯ç”±å†³ç­– |

**OpenWrt è®¾å¤‡ä½œä¸º routeAgent çš„ä¼˜åŠ¿**ï¼š
- âœ… **ç½‘ç»œä¸­æ¢**ï¼šä½äºç½‘ç»œæ ¸å¿ƒä½ç½®ï¼Œä¾¿äºç®¡ç†æ‰€æœ‰è®¾å¤‡
- âœ… **è·¯ç”±èƒ½åŠ›**ï¼šå¯ä»¥è½¬å‘å…¶ä»–èŠ‚ç‚¹çš„æ•°æ®åŒ…
- âœ… **æ‹“æ‰‘æ ¸å¿ƒ**ï¼šåœ¨ P2P ç½‘ç»œæ‹“æ‰‘ä¸­ä½œä¸ºå…³é”®èŠ‚ç‚¹
- âœ… **ç½‘å…³åŠŸèƒ½**ï¼šå¯ä»¥ä»£ç†å…¶ä»–èŠ‚ç‚¹çš„ç½‘ç»œè¯·æ±‚

**æ³¨æ„äº‹é¡¹**ï¼š
- è‡ªåŠ¨æ£€æµ‹å’Œè§’è‰²åˆ‡æ¢åœ¨**å¯åŠ¨æ—¶**å®Œæˆ
- å¦‚éœ€æ‰‹åŠ¨è¦†ç›–ï¼Œå¯ä¿®æ”¹ `application.yml` ä¸­çš„ `agent.type` é…ç½®
- è§’è‰²åˆ‡æ¢åï¼Œå…¶ä»–èŠ‚ç‚¹ä¼šé€šè¿‡ P2P ç½‘ç»œè‡ªåŠ¨å‘ç°è¯¥ routeAgent

#### 6.1.3 é›†æˆæ¶æ„

```
ç”¨æˆ·æµè§ˆå™¨ â†’ ooderNexus Web â†’ OpenWrt API â†’ OpenWrt ç³»ç»Ÿ
                â†“
           P2P ç½‘ç»œæœåŠ¡
```

### 6.2 å®‰è£…å‰å‡†å¤‡

#### 6.2.1 ç³»ç»Ÿè¦æ±‚

- **OpenWrt ç‰ˆæœ¬**ï¼š21.02 æˆ–æ›´é«˜
- **å†…å­˜**ï¼šæœ€ä½ 64MBï¼Œæ¨è 128MB+
- **å­˜å‚¨**ï¼šæœ€ä½ 100MBï¼Œæ¨è 256MB+
- **ç½‘ç»œ**ï¼šå·²é…ç½®å¹¶èƒ½è®¿é—®äº’è”ç½‘

#### 6.2.2 æ£€æŸ¥ç³»ç»Ÿ

```bash
# æ£€æŸ¥ OpenWrt ç‰ˆæœ¬
cat /etc/openwrt_release

# æ£€æŸ¥å†…å­˜
free

# æ£€æŸ¥å­˜å‚¨
df -h
```

#### 6.2.3 é…ç½®é˜²ç«å¢™

å¿…é¡»å¼€æ”¾ä»¥ä¸‹ç«¯å£ï¼š
- `8091/tcp` - Web æ§åˆ¶å°
- `9876/tcp+udp` - P2P é€šä¿¡

**å›¾å½¢ç•Œé¢é…ç½®**ï¼š
1. ç™»å½• OpenWrt åå° â†’ ç½‘ç»œ â†’ é˜²ç«å¢™
2. æ·»åŠ é€šä¿¡è§„åˆ™ï¼š
   - åç§°ï¼š`ooderNexus`
   - åè®®ï¼šTCP+UDP
   - ç«¯å£ï¼š8091,9876
   - æ“ä½œï¼šæ¥å—

**å‘½ä»¤è¡Œé…ç½®**ï¼š
```bash
uci add firewall rule
uci set firewall.@rule[-1].name='ooderNexus'
uci set firewall.@rule[-1].src='wan'
uci set firewall.@rule[-1].dest_port='8091 9876'
uci set firewall.@rule[-1].proto='tcp udp'
uci set firewall.@rule[-1].target='ACCEPT'
uci commit firewall
/etc/init.d/firewall restart
```

### 6.3 å®‰è£…æ­¥éª¤

#### 6.3.1 ä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰

```bash
wget -O /tmp/install.sh https://github.com/oodercn/ooder-Nexus/releases/download/v2.0.0-openwrt-preview/install-openwrt.sh
chmod +x /tmp/install.sh
/tmp/install.sh
```

å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆï¼š
1. æ£€æµ‹ç³»ç»Ÿæ¶æ„
2. æ£€æŸ¥/å®‰è£… Java
3. ä¸‹è½½å®‰è£…åŒ…
4. é…ç½®æœåŠ¡
5. å¯åŠ¨æœåŠ¡

#### 6.3.2 éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
/etc/init.d/ooder-nexus status

# æŸ¥çœ‹æ—¥å¿—
tail -f /opt/ooder-nexus/logs/system.log
```

è®¿é—®ï¼š`http://è·¯ç”±å™¨IP:8091/console/index.html`

### 6.4 å®‰è£…åé…ç½®

#### 6.4.1 å¸¸ç”¨å‘½ä»¤

```bash
# å¯åŠ¨/åœæ­¢/é‡å¯
/etc/init.d/ooder-nexus start
/etc/init.d/ooder-nexus stop
/etc/init.d/ooder-nexus restart

# å¼€æœºè‡ªå¯
/etc/init.d/ooder-nexus enable

# æŸ¥çœ‹çŠ¶æ€
/etc/init.d/ooder-nexus status
```

#### 6.4.2 æ–‡ä»¶ä½ç½®

```
/opt/ooder-nexus/
â”œâ”€â”€ bin/start.sh          # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ config/               # é…ç½®æ–‡ä»¶
â”œâ”€â”€ lib/                  # ç¨‹åºæ–‡ä»¶
â”œâ”€â”€ storage/              # æ•°æ®å­˜å‚¨ç›®å½•ï¼ˆé‡è¦ï¼‰
â”‚   â”œâ”€â”€ agents/          # Agent èŠ‚ç‚¹ä¿¡æ¯
â”‚   â”œâ”€â”€ devices/         # è®¾å¤‡èµ„äº§æ•°æ®
â”‚   â”œâ”€â”€ network/         # ç½‘ç»œé…ç½®æ•°æ®
â”‚   â”œâ”€â”€ sdk/             # Ooder SDK æ ¸å¿ƒæ•°æ®
â”‚   â”œâ”€â”€ sync/            # åŒæ­¥ä»»åŠ¡æ•°æ®
â”‚   â””â”€â”€ tasks/           # æ•°æ®æå–ä»»åŠ¡
â”œâ”€â”€ data/                 # æ—§ç‰ˆæ•°æ®ç›®å½•ï¼ˆå…¼å®¹ï¼‰
â””â”€â”€ logs/                 # æ—¥å¿—ç›®å½•
    â”œâ”€â”€ system.log       # ç³»ç»Ÿæ—¥å¿—
    â””â”€â”€ error.log        # é”™è¯¯æ—¥å¿—
```

**é‡è¦æç¤º**ï¼š`storage/` ç›®å½•åŒ…å«æ‰€æœ‰ä¸šåŠ¡æ•°æ®ï¼Œ**å¿…é¡»å®šæœŸå¤‡ä»½**ï¼

#### 6.4.3 æ•…éšœæ’æŸ¥

**é—®é¢˜ 1ï¼šæ— æ³•è®¿é—® Web ç•Œé¢**
- æ£€æŸ¥é˜²ç«å¢™è§„åˆ™
- æ£€æŸ¥æœåŠ¡çŠ¶æ€
- æŸ¥çœ‹é”™è¯¯æ—¥å¿—

**é—®é¢˜ 2ï¼šOpenWrt èœå•ä¸æ˜¾ç¤º**
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- æ£€æŸ¥ç³»ç»Ÿè¯†åˆ«æ—¥å¿—
- é‡å¯æœåŠ¡

**é—®é¢˜ 3ï¼šå†…å­˜ä¸è¶³**
- åˆ›å»ºäº¤æ¢åˆ†åŒº
- å‡å° Java å†…å­˜é…ç½®

---

## 7. ä½¿ç”¨æŒ‡å—

### 7.1 Web æ§åˆ¶å°

#### 7.1.1 ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Logo    æœç´¢                    é€šçŸ¥  ç”¨æˆ·  è®¾ç½®   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        â”‚                                            â”‚
â”‚  èœå•   â”‚              ä¸»å†…å®¹åŒº                      â”‚
â”‚        â”‚                                            â”‚
â”‚  - ä»ªè¡¨ç›˜â”‚                                            â”‚
â”‚  - ç½‘ç»œ â”‚                                            â”‚
â”‚  - æŠ€èƒ½ â”‚                                            â”‚
â”‚  - å­˜å‚¨ â”‚                                            â”‚
â”‚  - ç³»ç»Ÿ â”‚                                            â”‚
â”‚        â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 7.1.2 ä¸»è¦èœå•

| èœå• | åŠŸèƒ½ |
|------|------|
| **ä»ªè¡¨ç›˜** | ç³»ç»Ÿæ¦‚è§ˆã€ç»Ÿè®¡æ•°æ® |
| **P2P ç½‘ç»œ** | ç½‘ç»œæ‹“æ‰‘ã€èŠ‚ç‚¹ç®¡ç† |
| **AI æŠ€èƒ½** | æŠ€èƒ½ç®¡ç†ã€å¸‚åœºã€æ‰§è¡Œå†å² |
| **å­˜å‚¨ç®¡ç†** | æ–‡ä»¶ç®¡ç†ã€ç‰ˆæœ¬æ§åˆ¶ |
| **OpenWrt** | è·¯ç”±å™¨ç®¡ç†ï¼ˆä»… OpenWrtï¼‰ |
| **ç³»ç»Ÿç›‘æ§** | å¥åº·æ£€æŸ¥ã€æ—¥å¿—ã€å‘Šè­¦ |

### 7.2 å…¸å‹æ“ä½œ

#### 7.2.1 å‘å¸ƒæŠ€èƒ½

1. è¿›å…¥ã€ŒAI æŠ€èƒ½ã€â†’ã€Œæˆ‘çš„æŠ€èƒ½ã€
2. ç‚¹å‡»ã€Œå‘å¸ƒæŠ€èƒ½ã€
3. å¡«å†™æŠ€èƒ½ä¿¡æ¯ï¼ˆåç§°ã€æè¿°ã€å‘½ä»¤ï¼‰
4. ç‚¹å‡»ã€Œå‘å¸ƒã€

#### 7.2.2 åŠ å…¥ P2P ç½‘ç»œ

1. è¿›å…¥ã€ŒP2P ç½‘ç»œã€â†’ã€Œç½‘ç»œè®¾ç½®ã€
2. å¼€å¯ã€Œè‡ªåŠ¨å‘ç°ã€
3. ç­‰å¾…èŠ‚ç‚¹å‘ç°
4. æŸ¥çœ‹ã€Œç½‘ç»œæ‹“æ‰‘ã€ç¡®è®¤è¿æ¥

#### 7.2.3 åˆ†äº«æ–‡ä»¶

1. è¿›å…¥ã€Œå­˜å‚¨ç®¡ç†ã€â†’ã€Œæˆ‘çš„æ–‡ä»¶ã€
2. é€‰æ‹©æ–‡ä»¶ï¼Œç‚¹å‡»ã€Œåˆ†äº«ã€
3. è®¾ç½®åˆ†äº«å¯†ç ï¼ˆå¯é€‰ï¼‰
4. å¤åˆ¶åˆ†äº«é“¾æ¥

---

## 8. API æ–‡æ¡£

### 8.1 ä¸ªäººä¸­å¿ƒ API

#### è·å–ä»ªè¡¨ç›˜ç»Ÿè®¡
```http
GET /api/personal/dashboard/stats
```

#### è·å–æŠ€èƒ½åˆ—è¡¨
```http
GET /api/personal/skills
```

#### æ‰§è¡ŒæŠ€èƒ½
```http
POST /api/personal/execution/execute/{skillId}
```

### 8.2 ç½‘ç»œç®¡ç† API

#### è·å–èŠ‚ç‚¹åˆ—è¡¨
```http
GET /api/network/nodes
```

#### å‘ç°ç½‘ç»œ
```http
POST /api/network/discovery
```

### 8.3 OpenWrt APIï¼ˆOpenWrt ä¸“å±ï¼‰

#### è·å–ç³»ç»ŸçŠ¶æ€
```http
GET /api/openwrt/status
```

#### æ‰§è¡Œå‘½ä»¤
```http
POST /api/openwrt/command
Content-Type: application/json

{
  "command": "uptime"
}
```

---

## 9. å¼€å‘æŒ‡å—

### 9.1 åè®®ä»¿çœŸå¼€å‘

#### 9.1.1 åˆ›å»ºæµ‹è¯•åœºæ™¯

1. è¿›å…¥ã€Œåè®®ä»¿çœŸã€â†’ã€Œåœºæ™¯ç®¡ç†ã€
2. ç‚¹å‡»ã€Œæ–°å»ºåœºæ™¯ã€
3. æ·»åŠ æ­¥éª¤ï¼ˆå‘é€å‘½ä»¤ã€ç­‰å¾…å“åº”ã€éªŒè¯ç»“æœï¼‰
4. ä¿å­˜å¹¶è¿è¡Œ

#### 9.1.2 è°ƒè¯•åè®®

1. é€‰æ‹©ã€ŒMCP ä»¿çœŸå™¨ã€æˆ–ã€ŒRoute ä»¿çœŸå™¨ã€
2. è¾“å…¥åè®®å‘½ä»¤
3. æŸ¥çœ‹æ‰§è¡Œç»“æœå’Œæ—¥å¿—
4. åˆ†æåè®®è¡Œä¸º

### 9.2 æŠ€èƒ½å¼€å‘

#### 9.2.1 æŠ€èƒ½è§„èŒƒ

æŠ€èƒ½æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œçš„å‘½ä»¤æˆ–è„šæœ¬ï¼ŒåŒ…å«ï¼š
- **åç§°**ï¼šæŠ€èƒ½çš„æ˜¾ç¤ºåç§°
- **æè¿°**ï¼šåŠŸèƒ½è¯´æ˜
- **å‘½ä»¤**ï¼šå®é™…æ‰§è¡Œçš„å‘½ä»¤
- **å‚æ•°**ï¼šè¾“å…¥å‚æ•°å®šä¹‰
- **è¾“å‡º**ï¼šè¿”å›ç»“æœæ ¼å¼

#### 9.2.2 ç¤ºä¾‹æŠ€èƒ½

```json
{
  "name": "ç³»ç»Ÿä¿¡æ¯",
  "description": "è·å–ç³»ç»ŸåŸºæœ¬ä¿¡æ¯",
  "command": "uname -a && free -h",
  "params": [],
  "output": "text"
}
```

---

## 10. å¸¸è§é—®é¢˜

### Q1: ooderNexus å’Œ skillsCenter çš„å…³ç³»ï¼Ÿ

**A**: skillsCenter æ˜¯æŠ€èƒ½å‘å¸ƒå’Œåˆ†äº«çš„å¹³å°ï¼ŒooderNexus æ˜¯æŠ€èƒ½è¿è¡Œå’Œç®¡ç†çš„èŠ‚ç‚¹ã€‚ä¸¤è€…é…åˆå®ç°å®Œæ•´çš„ AI èƒ½åŠ›ç”Ÿæ€ã€‚

### Q2: æ˜¯å¦å¿…é¡»è¿è¡Œåœ¨ OpenWrt ä¸Šï¼Ÿ

**A**: ä¸æ˜¯ã€‚ooderNexus æ”¯æŒ Windowsã€Linuxã€macOS ç­‰å¤šç§å¹³å°ã€‚OpenWrt åªæ˜¯å…¶ä¸­ä¸€ä¸ªå…¸å‹éƒ¨ç½²åœºæ™¯ã€‚

### Q3: å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ

**A**: ooderNexus ä½¿ç”¨ **VFS + JSON æ··åˆå­˜å‚¨**ï¼Œå¤‡ä»½æ—¶å¿…é¡»åŒ…å«å®Œæ•´çš„ `storage/` ç›®å½•ã€‚

**OpenWrt å®‰è£…**ï¼š
```bash
# å¤‡ä»½æ‰€æœ‰æ•°æ®ï¼ˆå¿…é¡»åŒ…å« storage/ å’Œ config/ï¼‰
tar -czpf backup.tar.gz /opt/ooder-nexus/storage/ /opt/ooder-nexus/config/
```

**é€šç”¨å®‰è£…**ï¼š
```bash
# å¤‡ä»½æ‰€æœ‰æ•°æ®
tar -czpf backup.tar.gz ./storage/ ./config/
```

**é‡è¦æ•°æ®è¯´æ˜**ï¼š

| ç›®å½• | å¿…é¡»å¤‡ä»½ | è¯´æ˜ |
|------|----------|------|
| `storage/sdk/` | âœ… å¿…é¡» | Agent SDK æ ¸å¿ƒæ•°æ®ï¼ˆç½‘ç»œæ‹“æ‰‘ã€è®¾å¤‡ã€è·¯ç”±ï¼‰ |
| `storage/data/` | âœ… å¿…é¡» | **VFS æ–‡ä»¶å­˜å‚¨**ï¼ˆå“ˆå¸Œæ–‡ä»¶ã€ç¼“å­˜ï¼Œä¸ JSON æ•°æ®å…³è”ï¼‰ |
| `storage/network/` | âœ… å¿…é¡» | ç½‘ç»œé…ç½®å’Œæµé‡ç»Ÿè®¡ |
| `storage/tasks/` | âœ… å¿…é¡» | ä»»åŠ¡æ•°æ® |
| `config/` | âš ï¸ å»ºè®® | åº”ç”¨é…ç½®æ–‡ä»¶ |
| `logs/` | âŒ ä¸éœ€è¦ | æ—¥å¿—æ–‡ä»¶å¯éšæ—¶ç”Ÿæˆ |

**âš ï¸ ç‰¹åˆ«æ³¨æ„**ï¼š
- VFS æ–‡ä»¶ä½¿ç”¨ **MD5 å“ˆå¸Œ** å­˜å‚¨åœ¨ `storage/data/cache/`
- JSON æ•°æ®ä¸­å¼•ç”¨çš„æ˜¯å“ˆå¸Œå€¼ï¼Œä¸æ˜¯æ–‡ä»¶è·¯å¾„
- **å¿…é¡»åŒæ—¶å¤‡ä»½** JSON ç´¢å¼•å’Œ VFS å“ˆå¸Œæ–‡ä»¶ï¼Œå¦åˆ™æ–‡ä»¶æ— æ³•æ¢å¤

**P2P åŒæ­¥è¯´æ˜**ï¼š
- é»˜è®¤æƒ…å†µä¸‹ï¼ŒAgent SDK ä¼šè‡ªåŠ¨åŒæ­¥ `sdk/` ç›®å½•æ•°æ®åˆ°ç½‘ç»œä¸­çš„å…¶ä»–èŠ‚ç‚¹
- VFS å¤§æ–‡ä»¶ï¼ˆ`storage/data/`ï¼‰é»˜è®¤**ä¸ä¼šè‡ªåŠ¨åŒæ­¥**ï¼Œéœ€è¦æ‰‹åŠ¨åˆ†äº«
- æ¢å¤æ•°æ®åé‡æ–°åŠ å…¥ç½‘ç»œï¼Œå¯èƒ½ä¼šä¸ç½‘ç»œä¸­çš„æ•°æ®è¿›è¡Œåˆå¹¶

è¯¦è§ [æ•°æ®å­˜å‚¨è¯´æ˜](#45-æ•°æ®å­˜å‚¨è¯´æ˜) ç« èŠ‚ã€‚

### Q4: æ”¯æŒå“ªäº› AI æŠ€èƒ½ï¼Ÿ

**A**: ç†è®ºä¸Šæ”¯æŒä»»ä½•å¯å‘½ä»¤è¡Œæ‰§è¡Œçš„ AI èƒ½åŠ›ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š
- å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰è°ƒç”¨
- å›¾åƒè¯†åˆ«å’Œå¤„ç†
- è¯­éŸ³è¯†åˆ«å’Œåˆæˆ
- æ•°æ®åˆ†æå’Œå¤„ç†

### Q5: å¦‚ä½•ä¿è¯å®‰å…¨ï¼Ÿ

**A**: 
- P2P é€šä¿¡æ”¯æŒåŠ å¯†
- æŠ€èƒ½æ‰§è¡Œæœ‰æƒé™æ§åˆ¶
- æ”¯æŒè®¿é—®ç™½åå•
- æ‰€æœ‰æ•°æ®æœ¬åœ°å­˜å‚¨

---

## 11. ç‰ˆæœ¬å†å²

### v2.0.0-openwrt-previewï¼ˆå½“å‰ç‰ˆæœ¬ï¼‰- 2026-02-11

> âš ï¸ **é¢„è§ˆç‰ˆè¯´æ˜**ï¼šæ­¤ç‰ˆæœ¬ä¸“æ³¨äº OpenWrt è·¯ç”±å™¨ç®¡ç†åŠŸèƒ½ï¼Œä¸ºé¢„è§ˆæµ‹è¯•ç‰ˆæœ¬ã€‚

#### ğŸ¯ ä¸»è¦æ›´æ–°

**OpenWrt é›†æˆï¼ˆé¢„è§ˆç‰ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰**
- âœ¨ **è·¯ç”±å™¨è‡ªåŠ¨å‘ç°**ï¼šè‡ªåŠ¨æ‰«æå¹¶å‘ç°å±€åŸŸç½‘å†…çš„ OpenWrt è®¾å¤‡
- âœ¨ **SSH è¿æ¥ç®¡ç†**ï¼šæ”¯æŒé€šè¿‡ SSH è¿æ¥åˆ° OpenWrt è·¯ç”±å™¨
- âœ¨ **ç³»ç»ŸçŠ¶æ€ç›‘æ§**ï¼šå®æ—¶æ˜¾ç¤º CPUã€å†…å­˜ã€æ¸©åº¦ã€è¿è¡Œæ—¶é—´
- âœ¨ **ç½‘ç»œé…ç½®ç®¡ç†**ï¼šæŸ¥çœ‹å’Œé…ç½®ç½‘ç»œæ¥å£ã€DHCPã€é˜²ç«å¢™
- âœ¨ **å‘½ä»¤æ‰§è¡Œ**ï¼šé€šè¿‡ Web ç•Œé¢æ‰§è¡Œ Shell å‘½ä»¤
- âœ¨ **æ–‡ä»¶ç®¡ç†**ï¼šä¸Šä¼ ã€ä¸‹è½½ã€ç¼–è¾‘è·¯ç”±å™¨æ–‡ä»¶

**Windows å®‰è£…åŒ…**
- âœ¨ **ä¸€é”®å¯åŠ¨**ï¼šæä¾› `start.bat` è„šæœ¬ï¼ŒåŒå‡»å³å¯è¿è¡Œ
- âœ¨ **çœŸå®è®¾å¤‡æ¨¡å¼**ï¼šé»˜è®¤å…³é—­ Mock æ¨¡å¼ï¼Œè¿æ¥çœŸå® OpenWrt è®¾å¤‡
- âœ¨ **è¯¦ç»†æ–‡æ¡£**ï¼šåŒ…å«å®Œæ•´çš„å®‰è£…å’Œä½¿ç”¨è¯´æ˜

**æŠ€èƒ½ç®¡ç†å¢å¼º**
- âœ¨ **æŠ€èƒ½å‘å¸ƒ**ï¼šæ”¯æŒå°†æœ¬åœ° AI èƒ½åŠ›å‘å¸ƒåˆ°ç½‘ç»œ
- âœ¨ **æŠ€èƒ½åˆ†äº«**ï¼šæ”¯æŒåˆ†äº«ç»™ç‰¹å®šç”¨æˆ·æˆ–ç¾¤ç»„
- âœ¨ **æŠ€èƒ½æ‰§è¡Œ**ï¼šè¿œç¨‹æ‰§è¡Œç½‘ç»œä¸­çš„æŠ€èƒ½
- âœ¨ **æŠ€èƒ½å¸‚åœº**ï¼šæµè§ˆå’Œå®‰è£…ç½‘ç»œä¸­çš„æŠ€èƒ½

#### ğŸ”§ ä¼˜åŒ–ä¸æ”¹è¿›
- ğŸ”§ ä¼˜åŒ– OpenWrt è‡ªåŠ¨æ£€æµ‹é€»è¾‘ï¼Œæ”¯æŒå¤šç§æ£€æµ‹æ–¹å¼
- ğŸ”§ æ”¹è¿› Web æ§åˆ¶å° UIï¼Œå¢åŠ  OpenWrt ç®¡ç†é¡µé¢
- ğŸ”§ ä¼˜åŒ– P2P ç½‘ç»œè¿æ¥ç¨³å®šæ€§
- ğŸ”§ æ”¹è¿›é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

#### âš ï¸ å·²çŸ¥é™åˆ¶
- æ­¤ç‰ˆæœ¬ä¸ºé¢„è§ˆç‰ˆï¼Œä»…ä¾›æµ‹è¯•å’Œè¯„ä¼°ä½¿ç”¨
- éƒ¨åˆ†é«˜çº§åŠŸèƒ½ä»åœ¨å¼€å‘ä¸­
- ä»…æµ‹è¯•äº†éƒ¨åˆ† OpenWrt ç‰ˆæœ¬ï¼ˆ21.02+ï¼‰
- é¢„è§ˆç‰ˆæ•°æ®å¯èƒ½ä¸å…¼å®¹æ­£å¼ç‰ˆ

#### ğŸ“¦ å‘å¸ƒæ–‡ä»¶

| æ–‡ä»¶ | å¤§å° | è¯´æ˜ |
|------|------|------|
| `ooder-nexus-2.0.0-openwrt-preview-windows.zip` | ~40 MB | Windows å®‰è£…åŒ…ï¼ˆæ¨èï¼‰ |
| `ooder-nexus-2.0.0-preview.jar` | ~45 MB | å¯æ‰§è¡Œ JAR åŒ… |
| `README-Preview.txt` | ~3 KB | è¯¦ç»†è¯´æ˜æ–‡æ¡£ |
| `start.bat` | ~1 KB | Windows å¯åŠ¨è„šæœ¬ |

### v2.0.0 - 2025-02-10ï¼ˆè®¡åˆ’ä¸­ï¼‰
- ğŸ¯ OpenWrt é›†æˆæ­£å¼ç‰ˆ
- ğŸ¯ å®Œæ•´çš„ P2P AI èƒ½åŠ›åˆ†å‘
- ğŸ¯ ä¼ä¸šçº§ç¨³å®šæ€§å’Œå®‰å…¨æ€§

### v1.0.0 - 2024-12-01
- ğŸ‰ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ¨ P2P ç½‘ç»œåŠŸèƒ½
- âœ¨ åŸºç¡€æŠ€èƒ½ç®¡ç†
- âœ¨ æœ¬åœ°å­˜å‚¨æ”¯æŒ

---

## 12. ç¤¾åŒºä¸æ”¯æŒ

### 12.1 è·å–å¸®åŠ©

- ğŸ“– **æ–‡æ¡£**ï¼šhttps://github.com/oodercn/ooder-Nexus/wiki
- ğŸ“‹ **æ›´æ–°æ—¥å¿—**ï¼š[CHANGELOG.md](CHANGELOG.md)
- ğŸš€ **CI/CDçŠ¶æ€**ï¼š![CI/CD](https://github.com/oodercn/ooder-Nexus/workflows/CI/CD%20Pipeline/badge.svg)
- ğŸ› **Issue**ï¼šhttps://github.com/oodercn/ooder-Nexus/issues
- ğŸ’¬ **è®¨è®º**ï¼šhttps://github.com/oodercn/ooder-Nexus/discussions

### 12.2 å›½å†…é•œåƒ

ç”±äºç½‘ç»œåŸå› ï¼Œå›½å†…ç”¨æˆ·å¯ä»¥ä½¿ç”¨ Gitee é•œåƒï¼š

- ğŸª **Gitee ä»“åº“**ï¼šhttps://gitee.com/ooderCN/ooder-nexus
- ğŸ“¥ **Gitee Releases**ï¼šhttps://gitee.com/ooderCN/ooder-nexus/releases

> **æ³¨æ„**ï¼šGitee é•œåƒå¯èƒ½ä¼šæœ‰åŒæ­¥å»¶è¿Ÿï¼Œæœ€æ–°ç‰ˆæœ¬è¯·ä»¥ GitHub ä¸ºå‡†ã€‚å®‰è£…åŒ…ç­‰å¤§æ–‡ä»¶éœ€è¦æ‰‹åŠ¨ä¸Šä¼ åˆ° Gitee Releasesã€‚

### 12.3 å¼€å‘æ–‡æ¡£

- ğŸ› ï¸ **å¼€å‘æŒ‡å—**ï¼š[docs/development/DEVELOPMENT_GUIDE.md](docs/development/DEVELOPMENT_GUIDE.md)
- ğŸ“¦ **æ¨¡å—æ–‡æ¡£**ï¼š[docs/modules/](docs/modules/)
- ğŸ“‹ **æ›´æ–°æ—¥å¿—**ï¼š[CHANGELOG.md](CHANGELOG.md)

### 12.4 è´¡çŒ®ä»£ç 

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### 12.5 è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT å¼€æºè®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## 13. è‡´è°¢

- [Ooder Agent](https://github.com/oodercn/ooder-agent) - åº•å±‚ P2P ç½‘ç»œé€šä¿¡æ¡†æ¶
- [Spring Boot](https://spring.io/projects/spring-boot) - åç«¯å¼€å‘æ¡†æ¶
- [OpenWrt](https://openwrt.org/) - å¼€æºè·¯ç”±å™¨æ“ä½œç³»ç»Ÿ

---

<p align="center">
  <b>ooderNexus - è®© AI èƒ½åŠ›æ— å¤„ä¸åœ¨</b><br>
  Made with â¤ï¸ by ooder Team
</p>
