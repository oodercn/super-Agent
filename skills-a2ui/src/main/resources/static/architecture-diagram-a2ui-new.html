<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, minimum-scale=0.5, maximum-scale=2.0,width=device-width, height=device-height"/>
    <title>ooderAI Architecture Diagram - A2UI</title>
    <link rel="stylesheet" type="text/css" href="dist/release/traditional/ood/css/default.css"/>
    <link rel="stylesheet" type="text/css" href="dist/release/traditional/ood/appearance/dark/theme.css" id="theme-style"/>
    <link rel="stylesheet" type="text/css" href="dist/release/traditional/ood/css/remixicon/remixicon.css"/>
    <script type="text/javascript" src="dist/release/traditional/ood/js/ood.js"></script>
    <script type="text/javascript" src="conf.js"></script>
    <script type="text/javascript" src="dist/release/traditional/ood/js/Event.js"></script>
    <script type="text/javascript" src="dist/release/traditional/ood/js/CSS.js"></script>
    <script type="text/javascript" src="dist/release/traditional/ood/js/Dom.js"></script>
    <script type="text/javascript" src="dist/release/traditional/ood/js/Template.js"></script>
    <script type="text/javascript" src="dist/release/traditional/ood/js/Module.js"></script>
    <script type="text/javascript" src="dist/release/traditional/ood/js/UI.js"></script>
    <script type="text/javascript" src="dist/release/traditional/ood/js/ThirdParty/raphael.js"></script>
    <script type="text/javascript" src="dist/release/traditional/ood/js/svg.js"></script>
    <script type="text/javascript" src="dist/release/traditional/ood/js/UI/SVGPaper.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background-color: #1a1a1a;
            color: #ffffff;
            font-family: Arial, sans-serif;
        }
        #architecture-diagram {
            width: 100%;
            height: 800px;
            border: 1px solid #333;
            background-color: #222;
        }
        .title {
            text-align: center;
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: bold;
            color: #4CAF50;
        }
    </style>
</head>
<body>
    <div class="title">ooderAI Architecture Diagram - A2UI</div>
    <div id="architecture-diagram"></div>

    <script type="text/javascript">
        // 初始化a2ui应用
        var args = ood.getUrlParams(),
            onEnd = function () {
                SPA = this;
                this.initDiagram();
            };
        
        ood.launch('ooder.Index', onEnd, 'en', args && args.theme || 'default');
        
        // 扩展ooder.Index模块
        ood.module('ooder.Index', function (m) {
            m.initDiagram = function () {
                // 创建SVGPaper组件
                var svgPaper = ood.create('SVGPaper', {
                    id: 'architecture-paper',
                    renderTo: 'architecture-diagram',
                    width: '100%',
                    height: '100%',
                    viewBox: '0 0 1000 600'
                });
                
                // 绘制标题
                svgPaper.addElement('text', {
                    x: 500,
                    y: 50,
                    fontSize: 20,
                    fill: '#4CAF50',
                    textAnchor: 'middle',
                    fontWeight: 'bold',
                    text: 'ooderAI Architecture'
                });
                
                // 绘制组件
                // 前端
                var frontend = svgPaper.addElement('rect', {
                    x: 100,
                    y: 100,
                    width: 200,
                    height: 100,
                    rx: 5,
                    ry: 5,
                    fill: '#3498db',
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('text', {
                    x: 200,
                    y: 155,
                    fontSize: 14,
                    fill: '#ffffff',
                    textAnchor: 'middle',
                    text: 'ooderUI (前端)'
                });
                
                // skills-a2ui
                var skillsA2UI = svgPaper.addElement('rect', {
                    x: 400,
                    y: 100,
                    width: 200,
                    height: 100,
                    rx: 5,
                    ry: 5,
                    fill: '#9b59b6',
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('text', {
                    x: 500,
                    y: 155,
                    fontSize: 14,
                    fill: '#ffffff',
                    textAnchor: 'middle',
                    text: 'skills-a2ui'
                });
                
                // Agent SDK
                var agentSDK = svgPaper.addElement('rect', {
                    x: 700,
                    y: 100,
                    width: 200,
                    height: 100,
                    rx: 5,
                    ry: 5,
                    fill: '#f39c12',
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('text', {
                    x: 800,
                    y: 155,
                    fontSize: 14,
                    fill: '#ffffff',
                    textAnchor: 'middle',
                    text: 'Agent SDK'
                });
                
                // Skill A
                var skillA = svgPaper.addElement('rect', {
                    x: 400,
                    y: 250,
                    width: 150,
                    height: 80,
                    rx: 5,
                    ry: 5,
                    fill: '#e74c3c',
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('text', {
                    x: 475,
                    y: 295,
                    fontSize: 14,
                    fill: '#ffffff',
                    textAnchor: 'middle',
                    text: 'Skill A'
                });
                
                // Skill B
                var skillB = svgPaper.addElement('rect', {
                    x: 600,
                    y: 250,
                    width: 150,
                    height: 80,
                    rx: 5,
                    ry: 5,
                    fill: '#e74c3c',
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('text', {
                    x: 675,
                    y: 295,
                    fontSize: 14,
                    fill: '#ffffff',
                    textAnchor: 'middle',
                    text: 'Skill B'
                });
                
                // Skill VFS
                var skillVFS = svgPaper.addElement('rect', {
                    x: 500,
                    y: 380,
                    width: 150,
                    height: 80,
                    rx: 5,
                    ry: 5,
                    fill: '#e74c3c',
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('text', {
                    x: 575,
                    y: 425,
                    fontSize: 14,
                    fill: '#ffffff',
                    textAnchor: 'middle',
                    text: 'Skill VFS'
                });
                
                // VFS
                var vfs = svgPaper.addElement('rect', {
                    x: 700,
                    y: 380,
                    width: 200,
                    height: 100,
                    rx: 5,
                    ry: 5,
                    fill: '#1abc9c',
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('text', {
                    x: 800,
                    y: 435,
                    fontSize: 14,
                    fill: '#ffffff',
                    textAnchor: 'middle',
                    text: 'VFS (虚拟文件系统)'
                });
                
                // 绘制连接线
                // 前端 -> skills-a2ui
                svgPaper.addElement('line', {
                    x1: 300,
                    y1: 150,
                    x2: 400,
                    y2: 150,
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('polygon', {
                    points: '400,150 390,145 390,155',
                    fill: '#ffffff'
                });
                
                // skills-a2ui -> Agent SDK
                svgPaper.addElement('line', {
                    x1: 600,
                    y1: 150,
                    x2: 700,
                    y2: 150,
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('polygon', {
                    points: '700,150 690,145 690,155',
                    fill: '#ffffff'
                });
                
                // skills-a2ui -> Skill A
                svgPaper.addElement('line', {
                    x1: 450,
                    y1: 200,
                    x2: 450,
                    y2: 250,
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('polygon', {
                    points: '450,250 445,240 455,240',
                    fill: '#ffffff'
                });
                
                // skills-a2ui -> Skill B
                svgPaper.addElement('line', {
                    x1: 550,
                    y1: 200,
                    x2: 550,
                    y2: 250,
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('polygon', {
                    points: '550,250 545,240 555,240',
                    fill: '#ffffff'
                });
                
                // skills-a2ui -> Skill VFS
                svgPaper.addElement('line', {
                    x1: 500,
                    y1: 200,
                    x2: 500,
                    y2: 380,
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('polygon', {
                    points: '500,380 495,370 505,370',
                    fill: '#ffffff'
                });
                
                // Agent SDK -> Skill A
                svgPaper.addElement('line', {
                    x1: 700,
                    y1: 150,
                    x2: 475,
                    y2: 250,
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('polygon', {
                    points: '475,250 485,245 480,235',
                    fill: '#ffffff'
                });
                
                // Agent SDK -> Skill B
                svgPaper.addElement('line', {
                    x1: 700,
                    y1: 170,
                    x2: 600,
                    y2: 250,
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('polygon', {
                    points: '600,250 610,245 605,235',
                    fill: '#ffffff'
                });
                
                // Skill VFS -> VFS
                svgPaper.addElement('line', {
                    x1: 650,
                    y1: 420,
                    x2: 700,
                    y2: 430,
                    stroke: '#ffffff',
                    strokeWidth: 2
                });
                
                svgPaper.addElement('polygon', {
                    points: '700,430 690,425 690,435',
                    fill: '#ffffff'
                });
                
                // 绘制说明
                svgPaper.addElement('text', {
                    x: 900,
                    y: 550,
                    fontSize: 12,
                    fill: '#999999',
                    textAnchor: 'end',
                    text: 'Created with A2UI SVGPaper'
                });
            };
        });
    </script>
</body>
</html>