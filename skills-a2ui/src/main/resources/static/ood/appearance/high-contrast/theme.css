/* CSS变量定义 - CodeBuddy高对比度主题核心颜色系统 */
/* high-contrast theme CSS - 采用高对比度色系，适合视障人士 */
:root {
  /* 基础颜色 */
  --ood-hc-text: #ffffff;
  --ood-hc-text-inverse: #000000;
  --ood-hc-text-on-primary: #000000;
  --ood-hc-icon-color: #ffffff;
  --ood-hc-text-secondary: #ffff00;
  --ood-hc-text-disabled: #999999;

  /* 背景色 */
  --ood-hc-bg: #000000;
  --ood-hc-bg-secondary: #111111;
  --ood-hc-bg-card: #000000;
  --ood-hc-bg-light: #222222;
  --ood-hc-bg-lighter: #333333;
  --ood-hc-bg-hover: #444444;

  /* 变量映射 - 确保两种命名方式都能工作 */
  --hc-text: var(--ood-hc-text);
  --hc-text-inverse: var(--ood-hc-text-inverse);
  --hc-text-on-primary: var(--ood-hc-text-on-primary);
  --hc-icon-color: var(--ood-hc-icon-color);
  --hc-text-secondary: var(--ood-hc-text-secondary);
  --hc-text-disabled: var(--ood-hc-text-disabled);
  
  --hc-bg: var(--ood-hc-bg);
  --hc-bg-secondary: var(--ood-hc-bg-secondary);
  --hc-bg-card: var(--ood-hc-bg-card);
  --hc-bg-light: var(--ood-hc-bg-light);
  --hc-bg-lighter: var(--ood-hc-bg-lighter);
  --hc-bg-hover: var(--ood-hc-bg-hover);
  
  /* 主色调 */
  --primary-color: #ffff00; /* 亮黄色 - 用于高亮和交互元素 */
  
  /* 扩展的高对比度主题变量 */
  /* 基础背景色 */
  --hc-bg: #000000;
  --hc-bg-light: #111111;
  --hc-bg-lighter: #222222;
  --hc-bg-input: #000000;
  --hc-bg-hover: #333333;
  --hc-bg-active: #444444;
  
  /* 边框颜色 */
  --hc-border: #ffffff;
  --hc-border-light: #cccccc;
  --hc-border-focus: #ffff00;
  
  /* 文本颜色 */
  --hc-text: #ffffff;
  --hc-text-light: #ffffff;
  --hc-text-muted: #cccccc;
  --hc-text-disabled: #999999;
  
  /* 功能颜色 */
  --hc-primary: #ffff00;
  --hc-primary-hover: #ffff99;
  --hc-primary-active: #ffff00;
  --hc-success: #00ff00;
  --hc-warning: #ffaa00;
  --hc-error: #ff0000;
  --hc-info: #00ffff;
  
  /* 阴影 */
  --hc-shadow: rgba(255, 255, 255, 0.5);
  --hc-shadow-light: rgba(255, 255, 255, 0.3);
  
  /* 透明度 */
  --hc-opacity-light: 0.8;
  --hc-opacity-medium: 0.9;
  --hc-opacity-heavy: 1;
  --primary-hover: #ffff99; /* 浅黄色 - 鼠标悬停状态 */
  --primary-active: #ffff00; /* 亮黄色 - 激活状态 */
  --secondary-color: #ffffff; /* 白色 - 用于次要高亮 */

  /* 状态颜色 */
  --success-color: #00ff00; /* 亮绿色 - 成功状态 */
  --warning-color: #ffaa00; /* 橙色 - 警告状态 */
  --error-color: #ff0000; /* 红色 - 错误状态 */
  --info-color: #00ffff; /* 青色 - 信息状态 */
  --ood-primary: #ffff00; /* OOD组件主色调 */
  --ood-primary-light: #ffff99; /* OOD组件浅色主色调 */
  --ood-text-secondary: #ffff00; /* OOD组件次要文本色 */

  /* 文本颜色 */
  --text-primary: #ffffff; /* 白色文本 - 主要内容 */
  --text-secondary: #ffff00; /* 黄色文本 - 辅助信息 */
  --text-muted: #cccccc; /* 浅灰色文本 - 禁用状态 */
  --text-input: #ffffff; /* 输入框内文本 */
  --text-input-readonly: #cccccc; /* 只读输入框内文本 */

  /* 背景颜色 */
  --bg-primary: #000000; /* 主背景色 - 黑色 */
  --bg-secondary: #111111; /* 次级背景 - 深灰色面板和卡片 */
  --bg-tertiary: #222222; /* 三级背景 - 悬停状态 */
  --bg-surface: #000000; /* 表面背景 - 输入框等 */
  --bg-input: #000000;
    
    /* ColorPicker组件变量 */
    --colorpicker-bg: #000000;
    --colorpicker-border: 2px solid #ffffff;
    --colorpicker-text: #ffffff;
    --colorpicker-hover: #111111;
    --colorpicker-focus: #ffff00;
    --colorpicker-preview-border: 2px solid #ffff00;
    
    /* Audio组件变量 */
    --audio-bg: #000000;
    --audio-border: #ffffff;
    --audio-text: #ffffff;
    --audio-controls-bg: #111111;
    --audio-cover-bg: rgba(17, 17, 17, 0.9);
    --audio-hover-bg: rgba(255, 255, 0, 0.3);
    
    /* ButtonLayout组件变量 */
    --buttonlayout-bg: #000000;
    --buttonlayout-border: #ffffff;
    --buttonlayout-text: #ffffff;
    --buttonlayout-hover-bg: #111111;
    --buttonlayout-hover-shadow: 0 0 0 2px #ffff00;
    --buttonlayout-caption: #ffffff;
    --buttonlayout-comment: #cccccc;
    
    /* Block组件变量 */
    --block-panel-bg: #000000;
    --block-panel-padding: 1em;
    --block-sidebar-bg: #111111;
    --block-sidebar-text: #ffffff;
    --block-sidebar-btn: #ffffff;
    --block-sidebar-btn-hover: #ffff00;

  /* 边框颜色 */
  --border-color: #ffffff; /* 边框颜色 */
  --border-light: #cccccc; /* 浅色边框 */

  /* 阴影 */
  --shadow-sm: 0 0 0 1px #ffffff;
  --shadow-md: 0 0 0 2px #ffffff;
  --shadow-lg: 0 0 0 3px #ffffff;
  --shadow-inner: inset 0 0 0 1px #ffffff;

  /* 圆角 */
  --radius-sm: 0px; /* 高对比度模式下减少圆角 */
  --radius-md: 0px;
  --radius-lg: 0px;
  --radius-xl: 0px;

  /* 间距 */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 0.125rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;

  /* 过渡动画 */
  --transition-fast: 0.15s ease;
  --transition-normal: 0.25s ease;
  --transition-slow: 0.4s ease;
  
  /* 组件特定变量 */
  --component-responsive-breakpoint: 600px;
  --component-sm-responsive-breakpoint: 400px;
  --component-vertical-item-radius: var(--radius-md);
  --component-vertical-item-margin: 4px 0;
  --component-sm-font-size: 1em; /* 高对比度模式下字体稍大 */
  --component-hc-item-bg: #000000;
  --component-hc-item-color: #ffffff;
  --component-hc-item-border: 1px solid #ffffff;
  --component-hc-panel-bg: #111111;
  --component-hc-panel-color: #ffffff;
}

/* 全局样式重置 */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body, html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  color: var(--text-primary);
  background-color: var(--bg-primary);
  line-height: 1.5;
  font-size: 16px; /* 高对比度模式下字体稍大 */
}

/* 基础字体设置 */
.ood-ui-ctrl, .ood-ui-reset {
  color: var(--text-primary);
  font-size: 1.1rem; /* 高对比度模式下字体稍大 */
  font-family: 'SF Mono', SFMono-Regular, ui-monospace, 'DejaVu Sans Mono', Menlo, Consolas, monospace;
  font-weight: 700; /* 高对比度模式下字体加粗 */
  line-height: 1.5;
}

/* 标题样式 */
.ood-title-node {
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: var(--spacing-sm);
  text-decoration: underline; /* 高对比度模式下添加下划线 */
}

.ood-dialog-tbar-focus {
  color: var(--text-primary);
  outline: 2px solid var(--hc-primary); /* 高对比度模式下添加焦点轮廓 */
}

.ood-group-caption {
  color: var(--text-secondary);
  font-weight: 700;
}

/* 图标字体样式 */
.oodfont, .oodcon {
  font-size: 1.4rem; /* 高对比度模式下图标稍大 */
  font-weight: 700;
}

/* 图标字体样式 */
.oodfont-active, .oodcon-active {
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--primary-active);
}

/* ProgressBar组件样式 */
.ood-progressbar {
  --progressbar-bg: var(--hc-bg);
  --progressbar-border: 2px solid var(--hc-primary);
  --progressbar-fill: var(--hc-primary);
  --progressbar-text: var(--hc-text);
  --progressbar-shadow: 0 0 6px var(--hc-primary);
}

.progressbar-hc {
  --progressbar-border: 3px solid var(--hc-primary);
  --progressbar-fill: var(--hc-primary);
  --progressbar-shadow: 0 0 8px var(--hc-primary);
}

/* ProgressBar移动端样式 */
.progressbar-mobile {
  --progressbar-height: 1.4em;
}

/* ProgressBar小屏幕样式 */
.progressbar-tiny {
  --progressbar-height: 1.2em;
}

/* 高亮状态 */
.ood-highlight,
.ood-ui-ctrl-highlight,
.ood-node-highlight,
.ood-tabs-caption-checked,
.ood-uibar-checked,
.ood-ui-ctrl-checked {
  color: var(--primary-active);
  text-decoration: underline; /* 高对比度模式下添加下划线 */
}

/* 按钮样式 */
.ood-button {
  background-color: var(--bg-secondary);
  border: 2px solid var(--border-color); /* 高对比度模式下边框加粗 */
  color: var(--text-primary);
  padding: 0.5rem 1rem;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
  font-weight: 700;
}

.ood-button:hover {
  background-color: var(--bg-tertiary);
  outline: 2px solid var(--hc-primary);
}

.ood-button-primary {
  background-color: var(--hc-primary);
  color: var(--hc-text-inverse);
  border: 2px solid var(--border-color);
}

.ood-button-primary:hover {
  background-color: var(--hc-primary-hover);
}

/* 输入框样式 */
.ood-input {
  background-color: var(--bg-input);
  border: 2px solid var(--border-color); /* 高对比度模式下边框加粗 */
  color: var(--text-input);
  padding: 0.5rem;
  border-radius: var(--radius-md);
  transition: border-color var(--transition-fast);
}

.ood-input:focus {
  border-color: var(--hc-border-focus);
  outline: 2px solid var(--hc-primary);
}

.ood-input:disabled {
  background-color: var(--bg-tertiary);
  color: var(--text-disabled);
  cursor: not-allowed;
  border: 2px dashed var(--border-color); /* 高对比度模式下禁用状态使用虚线 */
}

/* 表格样式 */
.ood-table {
  width: 100%;
  border-collapse: collapse;
  border: 2px solid var(--border-color); /* 高对比度模式下表格边框加粗 */
}

.ood-table th,
.ood-table td {
  padding: 0.75rem;
  border: 1px solid var(--border-light);
  text-align: left;
}

.ood-table th {
  font-weight: 700;
  background-color: var(--bg-tertiary);
  color: var(--text-secondary);
}

.ood-table tr:hover {
  background-color: var(--bg-hover);
  outline: 2px solid var(--hc-primary);
}

/* 卡片样式 */
.ood-card {
  background-color: var(--bg-secondary);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  padding: 1rem;
  margin-bottom: 1rem;
  border: 2px solid var(--border-color); /* 高对比度模式下卡片边框加粗 */
}

/* 主题切换按钮 */
#theme-toggle {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 1000;
  display: flex;
  gap: 10px;
}

.theme-btn {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 2px solid var(--border-color);
  background-color: var(--bg-secondary);
  color: var(--text-primary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition-fast);
}

.theme-btn:hover {
  transform: scale(1.1);
  outline: 2px solid var(--hc-primary);
}

.theme-btn.dark {
  background-color: #2d2d30;
  color: #ffffff;
}

.theme-btn.light {
  background-color: #f5f5f5;
  color: #333333;
}

.theme-btn.hc {
  background-color: #000000;
  color: #ffff00;
  border: 2px solid #ffff00;
}

/* Checkbox组件高对比度样式 */
.ood-checkbox {
  --checkbox-bg: var(--hc-bg);
  --checkbox-border: 2px solid var(--hc-border);
  --checkbox-color: var(--hc-text);
  --checkbox-checked-bg: var(--hc-primary);
  --checkbox-checked-color: var(--hc-text-inverse);
  --checkbox-hover-bg: var(--hc-bg-hover);
  --checkbox-focus-shadow: 0 0 0 3px var(--hc-primary);
}

.checkbox-hc {
  --checkbox-border: 3px solid var(--hc-primary);
  --checkbox-checked-bg: var(--hc-primary);
  --checkbox-checked-color: var(--hc-text-inverse);
}

/* CheckBox组件高对比度样式 */
.checkbox-hc {
  --checkbox-mark-color: var(--hc-primary);
  --checkbox-mark-checked: var(--hc-primary);
  --checkbox-caption-color: var(--hc-text);
  --checkbox-icon-color: var(--hc-text);
}

.checkbox-hc .MARK {
  color: var(--checkbox-mark-color) !important;
  border-color: var(--checkbox-mark-color) !important;
}

.checkbox-hc .MARK-checked {
  color: var(--checkbox-mark-checked) !important;
}

.checkbox-hc .CAPTION {
  color: var(--checkbox-caption-color) !important;
}

.checkbox-hc .ICON {
  color: var(--checkbox-icon-color) !important;
}

/* CheckBox移动端样式 */
.checkbox-mobile .MARK {
  font-size: 1.1em;
  margin: 0 0.5em 0 0.2em;
}

.checkbox-mobile .CAPTION {
  font-size: 0.9em;
}

/* CheckBox小屏幕样式 */
.checkbox-tiny .ICON {
  display: none;
}

.checkbox-tiny .CAPTION {
  font-size: 0.8em;
}

/* Label组件高对比度样式 */
.ood-label {
  --label-color: var(--hc-text);
  --label-icon-color: var(--hc-primary);
  --label-disabled-color: var(--hc-text-disabled);
}

.label-hc {
  --label-color: var(--hc-text);
  --label-icon-color: var(--hc-primary);
  --label-disabled-color: var(--hc-text-disabled);
}

/* Label组件暗黑模式样式 */
.label-dark {
  --label-color: var(--hc-text);
  --label-icon-color: var(--hc-primary);
  --label-disabled-color: var(--hc-text-disabled);
}

/* Label组件移动端样式 */
.label-mobile {
  --label-font-size: 1.2em;
}

/* Label组件小屏幕样式 */
.label-tiny {
  --label-font-size: 1.1em;
}

/* ProgressBar组件高对比度样式 */
.ood-progressbar {
  --progressbar-bg: var(--hc-bg);
  --progressbar-border: 2px solid var(--hc-primary);
  --progressbar-fill: var(--hc-primary);
  --progressbar-text: var(--hc-text);
  --progressbar-shadow: 0 0 6px var(--hc-primary);
}

.progressbar-hc {
  --progressbar-border: 3px solid var(--hc-primary);
  --progressbar-fill: var(--hc-primary);
  --progressbar-shadow: 0 0 8px var(--hc-primary);
}

/* RadioBox组件高对比度样式 */
.ood-radiobox {
  --radiobox-bg: var(--hc-bg);
  --radiobox-border: 2px solid var(--hc-primary);
  --radiobox-color: var(--hc-text);
  --radiobox-hover-bg: rgba(255, 255, 0, 0.2);
  --radiobox-mark-color: var(--hc-primary);
  --radiobox-mark-checked: var(--hc-primary);
}

.radiobox-hc {
  --radiobox-border: 3px solid var(--hc-primary);
  --radiobox-mark-color: var(--hc-primary);
  --radiobox-mark-checked: var(--hc-primary);
}

/* ContentBlock组件高对比度样式 */
.contentblock-hc {
  --contentblock-bg: var(--hc-bg);
  --contentblock-border: 2px solid var(--hc-primary);
  --contentblock-text: var(--hc-text);
  --contentblock-title: var(--hc-primary);
  --contentblock-datetime: var(--hc-text-secondary);
  --contentblock-more-bg: var(--hc-primary);
  --contentblock-more-text: var(--hc-text-inverse);
}

.contentblock-hc .ITEM {
  background-color: var(--contentblock-bg);
  border: var(--contentblock-border);
  color: var(--contentblock-text);
}

.contentblock-hc .TITLE {
  color: var(--contentblock-title);
}

.contentblock-hc .DATETIME {
  color: var(--contentblock-datetime);
}

.contentblock-hc .MORE {
  background-color: var(--contentblock-more-bg);
  color: var(--contentblock-more-text);
}

/* ContentBlock移动端样式 */
.contentblock-mobile .ITEMFRAME {
  padding: 1em;
}

.contentblock-mobile .DATETIME {
  font-size: 20px;
  line-height: 28px;
}

.contentblock-mobile .TITLE {
  font-size: 22px;
  line-height: 32px;
}

.contentblock-mobile .MORE {
  font-size: 0.8em;
  padding: 0.5em;
}

/* ContentBlock小屏幕样式 */
.contentblock-tiny .DATETIME {
  font-size: 18px;
  line-height: 24px;
}

.contentblock-tiny .TITLE {
  font-size: 20px;
  line-height: 28px;
}
.contentblock-tiny .MORE {
  font-size: 0.7em;
}

/* Slider组件高对比度样式 */
.ood-slider {
  --slider-bg: var(--hc-bg);
  --slider-border: 2px solid var(--hc-primary);
  --slider-fill: linear-gradient(to right, var(--hc-primary), var(--hc-primary-light));
  --slider-indicator-bg: var(--hc-bg);
  --slider-indicator-border: 3px solid var(--hc-primary);
  --slider-text: var(--hc-text);
}

.slider-hc {
  --slider-border: 3px solid var(--hc-primary);
  --slider-indicator-border: 4px solid var(--hc-primary);
  --slider-fill: linear-gradient(to right, var(--hc-primary), var(--hc-primary-light));
}

/* Tabs组件高对比度样式 */
.ood-tabs {
  --tabs-bg: var(--hc-bg);
  --tabs-item-color: var(--hc-text);
  --tabs-item-hover-bg: var(--hc-bg-hover);
  --tabs-item-active-color: var(--hc-primary-active);
  --tabs-item-active-border: var(--hc-primary);
  --tabs-panel-bg: var(--hc-bg-card);
  --tabs-panel-border: var(--hc-border);
}

.tabs极速-hc {
  --tabs-item-active-border: 2px solid var(--hc-primary);
  --tabs-item-active-text-decoration: underline;
}

/* ood-uigradient 渐变样式 - 高对比度版本 */
.ood-uigradient {
  border: solid 2px var(--hc-border);
  color: var(--hc-text);
  white-space: nowrap;
  background-image: linear-gradient(to bottom, var(--hc-bg-lighter) 5%, var(--hc-bg) 100%);
}

.ood-uigradient-hover, 
.ood-uigradient:hover {
  background-image: linear-gradient(to bottom, var(--hc-bg-lighter) 5%, var(--hc-bg-hover) 100%);
}

.ood-uigradient-active, 
.ood-uigradient-checked, 
.ood-uigradient-expand, 
.ood-uigradient:active, 
.ood-uigradient-active:hover, 
.ood-uigradient-checked:hover, 
.ood-uigradient-expand:hover {
  background-image: linear-gradient(to bottom, var(--hc-bg) 5%, var(--hc-bg-lighter) 100%);
}