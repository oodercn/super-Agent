/**
 * 腾讯低代码移动端组件样式库
 * 基于 TDesign Mobile 设计规范
 */

:root {
  /* ==================== 色彩系统 ==================== */
  --td-color-brand: #0052D9;           /* 品牌色 */
  --td-color-brand-light: #E0EBFF;     /* 品牌色浅色 */
  --td-color-brand-focus: #003EB3;     /* 品牌色聚焦 */
  --td-color-success: #00A870;         /* 成功色 */
  --td-color-warning: #ED7B2F;         /* 警告色 */
  --td-color-error: #E34D59;           /* 错误色 */
  --td-color-info: #0052D9;            /* 信息色 */
  
  /* ==================== 中性色 ==================== */
  --td-color-white: #FFFFFF;           /* 白色 */
  --td-color-black: #000000;           /* 黑色 */
  --td-color-text-primary: #1D2129;    /* 主要文本 */
  --td-color-text-secondary: #86909C;  /* 次要文本 */
  --td-color-text-placeholder: #C9CDD4; /* 占位文本 */
  --td-color-text-disabled: #C9CDD4;   /* 禁用文本 */
  --td-color-bg-container: #FFFFFF;     /* 容器背景 */
  --td-color-bg-secondary: #F7F8FA;     /* 次要背景 */
  --td-color-bg-disabled: #F2F3F5;      /* 禁用背景 */
  --td-color-border: #E5E6EB;          /* 边框色 */
  --td-color-border-disabled: #DCDEE3;  /* 禁用边框 */
  --td-color-mask: rgba(0, 0, 0, 0.6); /* 遮罩色 */
  
  /* ==================== 功能色 ==================== */
  --td-color-link: #0052D9;            /* 链接色 */
  --td-color-link-hover: #003EB3;       /* 链接悬停 */
  --td-color-link-active: #002266;      /* 链接激活 */
  
  /* ==================== 尺寸系统 ==================== */
  --td-size-radius-small: 4px;         /* 小圆角 */
  --td-size-radius-medium: 6px;        /* 中圆角 */
  --td-size-radius-large: 8px;         /* 大圆角 */
  --td-size-radius-extra-large: 12px;  /* 超大圆角 */
  --td-size-radius-round: 9999px;      /* 圆形 */
  
  /* ==================== 间距系统 ==================== */
  --td-spacing-1: 4px;                  /* 4px */
  --td-spacing-2: 8px;                  /* 8px */
  --td-spacing-3: 12px;                 /* 12px */
  --td-spacing-4: 16px;                 /* 16px */
  --td-spacing-5: 20px;                 /* 20px */
  --td-spacing-6: 24px;                 /* 24px */
  --td-spacing-7: 28px;                 /* 28px */
  --td-spacing-8: 32px;                 /* 32px */
  
  /* ==================== 字体系统 ==================== */
  --td-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  --td-font-size-xs: 12px;              /* 超小字体 */
  --td-font-size-sm: 14px;              /* 小字体 */
  --td-font-size-md: 16px;              /* 中字体 */
  --td-font-size-lg: 18px;              /* 大字体 */
  --td-font-size-xl: 20px;              /* 超大字体 */
  --td-font-weight-regular: 400;        /* 常规字重 */
  --td-font-weight-medium: 500;         /* 中等字重 */
  --td-font-weight-semibold: 600;       /* 半粗字重 */
  --td-font-weight-bold: 700;           /* 粗体字重 */
  
  /* ==================== 动画系统 ==================== */
  --td-motion-duration-1: 0.1s;          /* 快速动画 */
  --td-motion-duration-2: 0.2s;         /* 标准动画 */
  --td-motion-duration-3: 0.3s;         /* 慢速动画 */
  --td-motion-easing-in: cubic-bezier(0.64, 0, 0.78, 0);      /* 进入缓动 */
  --td-motion-easing-out: cubic-bezier(0.22, 1, 0.36, 1);     /* 退出缓动 */
  --td-motion-easing-in-out: cubic-bezier(0.83, 0, 0.17, 1);  /* 进出缓动 */
}

/* ==================== 基础重置 ==================== */
.tdesign-mobile-reset {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--td-font-family);
  font-size: var(--td-font-size-md);
  line-height: 1.5;
  color: var(--td-color-text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.tdesign-mobile-reset *,
.tdesign-mobile-reset *::before,
.tdesign-mobile-reset *::after {
  box-sizing: border-box;
}

/* ==================== 按钮组件样式 ==================== */
.tdesign-mobile-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 44px;
  padding: var(--td-spacing-3) var(--td-spacing-4);
  border: none;
  border-radius: var(--td-size-radius-large);
  font-size: var(--td-font-size-md);
  font-weight: var(--td-font-weight-medium);
  line-height: 1.2;
  text-decoration: none;
  cursor: pointer;
  transition: all var(--td-motion-duration-2) var(--td-motion-easing-out);
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  position: relative;
  overflow: hidden;
}

/* 按钮变体 */
.tdesign-btn--primary {
  background-color: var(--td-color-brand);
  color: var(--td-color-white);
}

.tdesign-btn--default {
  background-color: var(--td-color-bg-container);
  color: var(--td-color-text-primary);
  border: 1px solid var(--td-color-border);
}

.tdesign-btn--danger {
  background-color: var(--td-color-error);
  color: var(--td-color-white);
}

.tdesign-btn--text {
  background-color: transparent;
  color: var(--td-color-brand);
  border: none;
  min-height: auto;
  padding: var(--td-spacing-2);
}

.tdesign-btn--light {
  background-color: var(--td-color-bg-secondary);
  color: var(--td-color-text-primary);
  border: none;
}

/* 按钮尺寸 */
.tdesign-btn--small {
  min-height: 32px;
  padding: var(--td-spacing-2) var(--td-spacing-3);
  font-size: var(--td-font-size-sm);
}

.tdesign-btn--medium {
  min-height: 40px;
  padding: var(--td-spacing-2) var(--td-spacing-4);
  font-size: var(--td-font-size-md);
}

.tdesign-btn--large {
  min-height: 48px;
  padding: var(--td-spacing-4) var(--td-spacing-5);
  font-size: var(--td-font-size-lg);
}

/* 按钮状态 */
.tdesign-mobile-btn.-disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

.tdesign-mobile-btn.-loading {
  cursor: wait;
  pointer-events: none;
}

.tdesign-mobile-btn.-active {
  transform: scale(0.98);
  opacity: 0.8;
}

.tdesign-mobile-btn.-block {
  display: block;
  width: 100%;
}

/* 按钮内部元素 */
.tdesign-btn__loading {
  margin-right: var(--td-spacing-2);
  animation: tdesign-spin 1s linear infinite;
}

.tdesign-btn__icon {
  display: inline-flex;
  align-items: center;
  margin-right: var(--td-spacing-2);
  font-size: 1.2em;
}

.tdesign-btn__icon.right {
  margin-right: 0;
  margin-left: var(--td-spacing-2);
  order: 2;
}

.tdesign-btn__content {
  display: inline-flex;
  align-items: center;
}

/* ==================== 输入框组件样式 ==================== */
.tdesign-mobile-input {
  width: 100%;
  position: relative;
}

.tdesign-input__wrapper {
  position: relative;
  display: flex;
  align-items: center;
  min-height: 44px;
  padding: 0 var(--td-spacing-4);
  background-color: var(--td-color-bg-container);
  border: 1px solid var(--td-color-border);
  border-radius: var(--td-size-radius-large);
  transition: all var(--td-motion-duration-2) var(--td-motion-easing-out);
}

.tdesign-input__wrapper.-focus {
  border-color: var(--td-color-brand);
  box-shadow: 0 0 0 2px var(--td-color-brand-light);
}

.tdesign-input__wrapper.-disabled {
  background-color: var(--td-color-bg-disabled);
  border-color: var(--td-color-border-disabled);
  cursor: not-allowed;
}

.tdesign-input__inner {
  flex: 1;
  min-height: 42px;
  padding: 0;
  border: none;
  outline: none;
  background: transparent;
  font-size: var(--td-font-size-md);
  color: var(--td-color-text-primary);
  line-height: 1.5;
}

.tdesign-input__inner::placeholder {
  color: var(--td-color-text-placeholder);
}

.tdesign-input__inner:disabled {
  color: var(--td-color-text-disabled);
  cursor: not-allowed;
}

.tdesign-input__clear {
  position: absolute;
  right: var(--td-spacing-4);
  width: 20px;
  height: 20px;
  color: var(--td-color-text-secondary);
  cursor: pointer;
  font-size: var(--td-font-size-lg);
  display: none;
}

.tdesign-input__prefix,
.tdesign-input__suffix {
  padding: 0 var(--td-spacing-2);
  color: var(--td-color-text-secondary);
  font-size: var(--td-font-size-md);
  white-space: nowrap;
  display: none;
}

.tdesign-input__prefix {
  margin-right: var(--td-spacing-2);
}

.tdesign-input__suffix {
  margin-left: var(--td-spacing-2);
}

/* 输入框尺寸 */
.tdesign-input--small .tdesign-input__wrapper {
  min-height: 32px;
  padding: 0 var(--td-spacing-3);
}

.tdesign-input--small .tdesign-input__inner {
  min-height: 30px;
  font-size: var(--td-font-size-sm);
}

.tdesign-input--large .tdesign-input__wrapper {
  min-height: 48px;
  padding: 0 var(--td-spacing-5);
}

.tdesign-input--large .tdesign-input__inner {
  min-height: 46px;
  font-size: var(--td-font-size-lg);
}

/* ==================== 开关组件样式 ==================== */
.tdesign-mobile-switch {
  position: relative;
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
}

.tdesign-mobile-switch.-disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.tdesign-mobile-switch.-loading {
  cursor: wait;
}

.tdesign-switch__track {
  position: relative;
  width: 51px;
  height: 31px;
  border-radius: 16px;
  background-color: var(--td-color-border);
  transition: background-color var(--td-motion-duration-2) var(--td-motion-easing-out);
}

.tdesign-switch__thumb {
  position: absolute;
  width: 27px;
  height: 27px;
  border-radius: 50%;
  background-color: var(--td-color-white);
  top: 2px;
  left: 2px;
  transition: left var(--td-motion-duration-2) var(--td-motion-easing-out);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.tdesign-switch__label {
  margin-left: var(--td-spacing-3);
  font-size: var(--td-font-size-sm);
  color: var(--td-color-text-primary);
  font-weight: var(--td-font-weight-medium);
}

/* 开关状态 */
.tdesign-mobile-switch.-checked .tdesign-switch__track {
  background-color: var(--td-color-brand);
}

.tdesign-mobile-switch.-checked .tdesign-switch__thumb {
  left: 22px;
}

/* 开关尺寸 */
.tdesign-switch--small .tdesign-switch__track {
  width: 40px;
  height: 24px;
  border-radius: 12px;
}

.tdesign-switch--small .tdesign-switch__thumb {
  width: 20px;
  height: 20px;
  top: 2px;
  left: 2px;
}

.tdesign-switch--small.-checked .tdesign-switch__thumb {
  left: 18px;
}

.tdesign-switch--large .tdesign-switch__track {
  width: 60px;
  height: 36px;
  border-radius: 18px;
}

.tdesign-switch--large .tdesign-switch__thumb {
  width: 32px;
  height: 32px;
  top: 2px;
  left: 2px;
}

.tdesign-switch--large.-checked .tdesign-switch__thumb {
  left: 26px;
}

/* ==================== 动画定义 ==================== */
@keyframes tdesign-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes tdesign-fade-in {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes tdesign-fade-out {
  0% { opacity: 1; }
  100% { opacity: 0; }
}

@keyframes tdesign-slide-up {
  0% { transform: translateY(100%); }
  100% { transform: translateY(0); }
}

@keyframes tdesign-slide-down {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(0); }
}

/* ==================== 响应式适配 ==================== */
@media (max-width: 768px) {
  .tdesign-mobile-btn {
    min-height: 48px;
    font-size: var(--td-font-size-lg);
  }
  
  .tdesign-input__wrapper {
    min-height: 48px;
  }
  
  .tdesign-input__inner {
    font-size: var(--td-font-size-lg);
  }
}

@media (max-width: 480px) {
  .tdesign-mobile-btn {
    min-height: 44px;
    padding: var(--td-spacing-3) var(--td-spacing-4);
    font-size: var(--td-font-size-md);
  }
  
  .tdesign-input__wrapper {
    min-height: 44px;
    padding: 0 var(--td-spacing-3);
  }
  
  .tdesign-input__inner {
    min-height: 42px;
    font-size: var(--td-font-size-md);
  }
}

/* ==================== 暗色主题支持 ==================== */
@media (prefers-color-scheme: dark) {
  :root {
    --td-color-text-primary: #FFFFFF;
    --td-color-text-secondary: #A9AEB8;
    --td-color-text-placeholder: #5C6066;
    --td-color-text-disabled: #5C6066;
    --td-color-bg-container: #1A1A1A;
    --td-color-bg-secondary: #2A2A2A;
    --td-color-bg-disabled: #2A2A2A;
    --td-color-border: #404040;
    --td-color-border-disabled: #404040;
  }
  
  .tdesign-btn--default {
    background-color: var(--td-color-bg-secondary);
    border-color: var(--td-color-border);
  }
  
  .tdesign-btn--light {
    background-color: var(--td-color-bg-secondary);
  }
  
  .tdesign-input__wrapper {
    background-color: var(--td-color-bg-secondary);
    border-color: var(--td-color-border);
  }
}

/* ==================== 触摸优化 ==================== */
@media (hover: none) and (pointer: coarse) {
  .tdesign-mobile-btn:hover {
    transform: none;
  }
  
  .tdesign-mobile-btn:active {
    transform: scale(0.98);
    opacity: 0.8;
  }
  
  .tdesign-input__wrapper:focus-within {
    border-color: var(--td-color-brand);
    box-shadow: 0 0 0 2px var(--td-color-brand-light);
  }
}

/* ==================== 可访问性支持 ==================== */
.tdesign-mobile-btn:focus-visible,
.tdesign-input__inner:focus-visible,
.tdesign-mobile-switch:focus-visible {
  outline: 2px solid var(--td-color-brand);
  outline-offset: 2px;
}

/* ==================== 性能优化 ==================== */
@media (prefers-reduced-motion: reduce) {
  .tdesign-mobile-btn,
  .tdesign-input__wrapper,
  .tdesign-switch__track,
  .tdesign-switch__thumb {
    transition: none;
  }
  
  @keyframes tdesign-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
}

/* ==================== 组件工具类 ==================== */
.tdesign-mobile-hidden {
  display: none !important;
}

.tdesign-mobile-visible {
  display: block !important;
}

.tdesign-mobile-inline {
  display: inline !important;
}

.tdesign-mobile-flex {
  display: flex !important;
}

.tdesign-mobile-inline-flex {
  display: inline-flex !important;
}

.tdesign-mobile-text-center {
  text-align: center !important;
}

.tdesign-mobile-text-left {
  text-align: left !important;
}

.tdesign-mobile-text-right {
  text-align: right !important;
}

.tdesign-mobile-text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}